<!DOCTYPE html>
<html>
    <head>
    <!--
        © Material Theme
        https://github.com/viosey/hexo-theme-material
        Version: 1.2.6 -->

    <!-- Title -->
    
    <title>
        
            Vue.js 组件编码规范 | 
        
        Hope&#39;s Blog
    </title>

    <!-- Favicons -->
    <link rel="icon shortcut" type="image/ico" href="/img/favicon.png">
    <link rel="icon" sizes="192x192" href="/img/favicon.png">
    <link rel="apple-touch-icon" href="/img/favicon.png">

    <!-- Meta & Info -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#BDC3C7">
    <meta name="author" content="Hope">
    <meta name="description" content="李颖琨的网络日志">
    <meta name="keywords" content="前端,Vue,Hope的个人博客,HTML5">

    <!--iOS -->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-title" content="Title">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="480">

    <!-- Add to homescreen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">

    <!-- Add to homescreen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Hope&#39;s Blog">

    <!-- The Open Graph protocol -->
    <meta property="og:url" content="http://blog.ygxdxx.com">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="Vue.js 组件编码规范 | Hope&#39;s Blog">
    <meta property="og:description" content="李颖琨的网络日志">

    <!--[if lte IE 9]>
        <link rel="stylesheet" href="/css/ie-blocker.css">

        
            <script src="/js/ie-blocker.zhCN.js"></script>
        
    <![endif]-->

    <!-- Import CSS -->
    <link rel="stylesheet" href="/css/material.min.css">
    <link rel="stylesheet" href="/css/style.min.css">
    <!-- Config CSS -->


<!-- Other Styles -->
<style>
    body, html {
        font-family: Roboto, "Helvetica Neue", Helvetica, "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", "微软雅黑", Arial, sans-serif;
    }

    a {
        color: #16A085;
    }

    .mdl-card__media,
    #search-label,
    #search-form-label:after,
    #scheme-Paradox .hot_tags-count,
    #scheme-Paradox .sidebar_archives-count,
    #scheme-Paradox .sidebar-colored .sidebar-header,
    #scheme-Paradox .sidebar-colored .sidebar-badge{
        background-color: #95A5A6 !important;
    }

    /* Sidebar User Drop Down Menu Text Color */
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:hover,
    #scheme-Paradox .sidebar-colored .sidebar-nav>.dropdown>.dropdown-menu>li>a:focus {
        color: #95A5A6 !important;
    }

    #post_entry-right-info,
    .sidebar-colored .sidebar-nav li:hover > a,
    .sidebar-colored .sidebar-nav li:hover > a i,
    .sidebar-colored .sidebar-nav li > a:hover,
    .sidebar-colored .sidebar-nav li > a:hover i,
    .sidebar-colored .sidebar-nav li > a:focus i,
    .sidebar-colored .sidebar-nav > .open > a,
    .sidebar-colored .sidebar-nav > .open > a:hover,
    .sidebar-colored .sidebar-nav > .open > a:focus,
    #ds-reset #ds-ctx .ds-ctx-entry .ds-ctx-head a {
        color: #95A5A6 !important;
    }

    .toTop {
        background: #95A5A6 !important;
    }

    .material-layout .material-post>.material-nav,
    .material-layout .material-index>.material-nav,
    .material-nav a {
        color: #95A5A6;
    }

    #scheme-Paradox .MD-burger-layer {
        background-color: #95A5A6;
    }

    #scheme-Paradox #post-toc-trigger-btn {
        color: #95A5A6;
    }

    .post-toc a:hover {
        color: #16A085;
        text-decoration: underline;
    }
</style>


<!-- Theme Background Related-->

    <style>
        body{
            background-color: #F5F5F5;
        }

        /* blog_info bottom background */
        #scheme-Paradox .material-layout .something-else .mdl-card__supporting-text{
            background-color: #fff;
        }
    </style>




<!-- Fade Effect -->

    <style>
        .fade {
            transition: all 800ms linear;
            -webkit-transform: translate3d(0,0,0);
            -moz-transform: translate3d(0,0,0);
            -ms-transform: translate3d(0,0,0);
            -o-transform: translate3d(0,0,0);
            transform: translate3d(0,0,0);
            opacity: 1;
        }

        .fade.out{
            opacity: 0;
        }
    </style>


    <script src="/js/jquery.min.js"></script>

    <link rel="stylesheet" href="/css/highlight/rainbow.css">

    <!-- UC Browser Compatible-->
    <script>
        var agent = navigator.userAgent.toLowerCase();
        if(agent.indexOf('ucbrowser')>0) {
            document.write('<link rel="stylesheet" href="/css/uc.css">');
            alert('由于 UC 浏览器使用极旧的内核，而本网站使用了一些新的特性。\n为了您能更好的浏览，推荐使用 Chrome 或 Firefox 浏览器。');
        }
    </script>

    <!-- Custom Head -->
    
</head>


    
        <body id="scheme-Paradox">
            <div class="material-layout  mdl-js-layout has-drawer is-upgraded">
                

                <!-- Main Container -->
                <main class="material-layout__content" id="main">

                    <!-- Top Anchor -->
                    <div id="top"></div>

                    
                        <!-- Hamburger Button -->
                        <button class="MD-burger-icon sidebar-toggle">
                            <span class="MD-burger-layer"></span>
                        </button>
                    

                    <!-- Post TOC -->

    
    <!-- Back Button -->
    <!--
    <div class="material-back" id="backhome-div" tabindex="0">
        <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon"
           href="#" onclick="window.history.back();return false;"
           target="_self"
           role="button"
           data-upgraded=",MaterialButton,MaterialRipple">
            <i class="material-icons" role="presentation">arrow_back</i>
            <span class="mdl-button__ripple-container">
                <span class="mdl-ripple"></span>
            </span>
        </a>
    </div>
    -->

    <!-- Left aligned menu below button -->
    <button id="post-toc-trigger-btn"
        class="mdl-button mdl-js-button mdl-button--icon">
        <i class="material-icons">format_list_numbered</i>
    </button>

    <ul class="post-toc-wrap mdl-menu mdl-menu--bottom-left mdl-js-menu mdl-js-ripple-effect" for="post-toc-trigger-btn">
        <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Vue-js-组件编码规范"><span class="post-toc-number">1.</span> <span class="post-toc-text">Vue.js 组件编码规范</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#目标"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">目标</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#目录"><span class="post-toc-number">1.2.</span> <span class="post-toc-text">目录</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#基于模块开发"><span class="post-toc-number">1.3.</span> <span class="post-toc-text">基于模块开发</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？"><span class="post-toc-number">1.3.1.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Vue-组件命名"><span class="post-toc-number">1.4.</span> <span class="post-toc-text">Vue 组件命名</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？"><span class="post-toc-number">1.4.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#如何做？"><span class="post-toc-number">1.4.2.</span> <span class="post-toc-text">如何做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#组件表达式简单化"><span class="post-toc-number">1.5.</span> <span class="post-toc-text">组件表达式简单化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-1"><span class="post-toc-number">1.5.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-1"><span class="post-toc-number">1.5.2.</span> <span class="post-toc-text">怎么做？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#组件-props-原子化"><span class="post-toc-number">1.5.3.</span> <span class="post-toc-text">组件 props 原子化</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-2"><span class="post-toc-number">1.5.4.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-2"><span class="post-toc-number">1.5.5.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#验证组件的-props"><span class="post-toc-number">1.6.</span> <span class="post-toc-text">验证组件的 props</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-3"><span class="post-toc-number">1.6.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-3"><span class="post-toc-number">1.6.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#将-this-赋值给-component-变量"><span class="post-toc-number">1.7.</span> <span class="post-toc-text">将 this 赋值给 component 变量(</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-4"><span class="post-toc-number">1.7.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-4"><span class="post-toc-number">1.7.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#组件结构化"><span class="post-toc-number">1.8.</span> <span class="post-toc-text">组件结构化</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-5"><span class="post-toc-number">1.8.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-5"><span class="post-toc-number">1.8.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#组件事件命名"><span class="post-toc-number">1.9.</span> <span class="post-toc-text">组件事件命名</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-6"><span class="post-toc-number">1.9.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-6"><span class="post-toc-number">1.9.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#避免-this-parent"><span class="post-toc-number">1.10.</span> <span class="post-toc-text">避免 this.$parent</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-7"><span class="post-toc-number">1.10.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-7"><span class="post-toc-number">1.10.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#谨慎使用-this-refs"><span class="post-toc-number">1.11.</span> <span class="post-toc-text">谨慎使用 this.$refs</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-8"><span class="post-toc-number">1.11.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-8"><span class="post-toc-number">1.11.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#使用组件名作为样式作用域空间"><span class="post-toc-number">1.12.</span> <span class="post-toc-text">使用组件名作为样式作用域空间</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-9"><span class="post-toc-number">1.12.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-9"><span class="post-toc-number">1.12.2.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#提供组件-API-文档"><span class="post-toc-number">1.13.</span> <span class="post-toc-text">提供组件 API 文档</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#为什么？-10"><span class="post-toc-number">1.14.</span> <span class="post-toc-text">为什么？</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-10"><span class="post-toc-number">1.14.1.</span> <span class="post-toc-text">怎么做？</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#Range-slider"><span class="post-toc-number">2.</span> <span class="post-toc-text">Range slider</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#功能"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">功能</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#如何使用"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">如何使用</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#提供组件-demo"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">提供组件 demo</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-11"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">为什么？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#对组件文件进行代码校验"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">对组件文件进行代码校验</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#为什么？-12"><span class="post-toc-number">2.4.1.</span> <span class="post-toc-text">为什么？</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#怎么做？-11"><span class="post-toc-number">2.4.2.</span> <span class="post-toc-text">怎么做？</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#ESLint"><span class="post-toc-number">2.4.2.1.</span> <span class="post-toc-text">ESLint</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#JSHint"><span class="post-toc-number">2.4.2.2.</span> <span class="post-toc-text">JSHint</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#如何提供帮助？"><span class="post-toc-number">2.4.3.</span> <span class="post-toc-text">如何提供帮助？</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#译者"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">译者</span></a></li></ol></li></ol>

        <!--
        <li class="mdl-menu__item">
            Some Action
        </li>
        -->
    </ul>




<!-- Layouts -->

    <!-- Post Module -->
    <div class="material-post_container">

        <div class="material-post mdl-grid">
            <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">

                <!-- Post Header(Thumbnail & Title) -->
                
    <!-- Paradox Post Header -->
    
        <!-- Custom Thumbnail -->
        <div class="post_thumbnail-custom mdl-card__media mdl-color-text--grey-50" style="background-image:url(http://okkula0y9.bkt.clouddn.com/2017_3_06.jpg?imageView2/0/q/75|imageslim)">
    
            <p class="article-headline-p">
                Vue.js 组件编码规范
            </p>
        </div>





                
                    <!-- Paradox Post Info -->
                    <div class="mdl-color-text--grey-700 mdl-card__supporting-text meta">

    <!-- Author Avatar -->
    <div id="author-avatar">
        <img src="/img/avatar.png" width="44px" height="44px" alt="Author Avatar"/>
    </div>
    <!-- Author Name & Date -->
    <div>
        <strong>Hope</strong>
        <span>3月 09, 2017</span>
    </div>

    <div class="section-spacer"></div>

    <!-- Favorite -->
    <!--
        <button id="article-functions-like-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon btn-like">
            <i class="material-icons" role="presentation">favorite</i>
            <span class="visuallyhidden">favorites</span>
        </button>
    -->

    <!-- Qrcode -->
    
        <button id="article-functions-qrcode-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
            <i class="material-icons" role="presentation">devices other</i>
            <span class="visuallyhidden">devices other</span>
        </button>
        <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-qrcode-button">
            <li class="mdl-menu__item">在其它设备中阅读本文章</li>
            <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAAC20lEQVR42u3aUW7jMAwFwNz/0tsDbOM8knLhSOOvolUdjQqUIJ9e/458XtjY2NjY2NjY2NiPZL/i55cXvVlTfcP/v5WvzPeMjY2NvTf7w7/+8ZpfNvFuc5e8yX6wsbGxT2AnH5MXkslxXB9Q72iwsbGxsa/XJD/NS07yKdjY2NjYc/Z1ebv+lHywVS2i2NjY2Cez56UlOZqEUW1Xbp+lYWNjYz+enYemz/n6T/NtbGxs7Aezq09yQSf5rbzJqQ6n3u4cGxsbe1N2NbhdS10V7iYHhI2Njb03+46QtVeuegeRFDxsbGzsXdnVYpYEur2xVNL85K1LYaiEjY2N/eXschlolbpJCzE5LGxsbOxz2PnwqHf5pjr0rwbPC/JtbGxs7C9n9xh5e1AtbPmYaUHQi42Njb0Fez5Oyi/35FuvFrAP4QQ2Njb2Mex809VLPJNR0Y1DJWxsbOwt2L1itnb81Bsh5UeDjY2NvSu7OmDKR0i9GKA6wCpE1NjY2NibsicxbV5a8tZiEh40g15sbGzsL2dX24lq1JoXsF6Ru26NsLGxsU9grxoA5W+7Po58dFUtnNjY2Nh7syehbBIVV9uJ3sDrw4FiY2Njb83Ot5Jf5UlC2Wp4PGlRsLGxsXdl94ZK+XHk13F6jQc2NjY2djXo7QUAyXcmx337lR1sbGzsL2En4GrTMn/zqgcbGxv7HHZvNL8q9L2jgcHGxsY+hz0Z6PfaiUlIUG6BsLGxsQ9g90pUPu6pBsO9Z9SKYGNjY38huzyaGYx+kuKXhwpJWcXGxsY+gd0rDKtKWu8gqpd4sLGxsU9gV4vWJIit4vMC9mElNjY29gHsvCxdNwx5xLt2nDS6c4qNjY19MHsy7pmXqMKfBBsbGxu71bokwUD+hiR4KA+VsLGxsTdiVxnVlUnxS0b/efnExsbGPoedj2l6jOrKXpNzY76NjY2N/WD2OQ82NjY2NjY2Njb2Y54fniua3ffBOxgAAAAASUVORK5CYII=">
        </ul>
    

    <!-- Tags (bookmark) -->
    
    <button id="article-functions-viewtags-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
        <i class="material-icons" role="presentation">bookmark</i>
        <span class="visuallyhidden">bookmark</span>
    </button>
    <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-functions-viewtags-button">
        <li class="mdl-menu__item">
        <a class="post_tag-link" href="/tags/Vue/">Vue</a></li><li class="mdl-menu__item"><a class="post_tag-link" href="/tags/Vue组件/">Vue组件</a>
    </ul>
    

    <!-- Share -->
    <button id="article-fuctions-share-button" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon">
    <i class="material-icons" role="presentation">share</i>
    <span class="visuallyhidden">share</span>
</button>
<ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="article-fuctions-share-button">
    
    <!-- Leancloud Views -->
        <a class="post_share-link" href="#">
            <li class="mdl-menu__item">
                <span id="/2017/03/09/Vuejs-Component-Style-Guide/" class="leancloud-views_num" data-flag-title="Vue.js 组件编码规范">
     &nbsp;浏览量
</span>

            </li>
        </a>
    

    

    <!-- Share Weibo -->
    
        <a class="post_share-link" href="http://service.weibo.com/share/share.php?appkey=&title=Vue.js 组件编码规范&url=http://blog.ygxdxx.com//2017/03/09/Vuejs-Component-Style-Guide/index.html&pic=&searchPic=false&style=simple" target="_blank">
            <li class="mdl-menu__item">
                分享到微博
            </li>
        </a>
    

    <!-- Share Twitter -->
    
        <a class="post_share-link" href="https://twitter.com/intent/tweet?text=Vue.js 组件编码规范&url=http://blog.ygxdxx.com//2017/03/09/Vuejs-Component-Style-Guide/index.html&via=Hope" target="_blank">
            <li class="mdl-menu__item">
                分享到 Twitter
            </li>
        </a>
    

    <!-- Share Facebook -->
    
        <a class="post_share-link" href="https://www.facebook.com/sharer/sharer.php?u=http://blog.ygxdxx.com//2017/03/09/Vuejs-Component-Style-Guide/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 Facebook
            </li>
        </a>
    

    <!-- Share Google+ -->
    

    <!-- Share LinkedIn -->
    

    <!-- Share QQ -->
    
        <a class="post_share-link" href="http://connect.qq.com/widget/shareqq/index.html?site=Hope&#39;s Blog&title=Vue.js 组件编码规范&summary=李颖琨的网络日志&pics=http://blog.ygxdxx.com/img/favicon.png&url=http://blog.ygxdxx.com/2017/03/09/Vuejs-Component-Style-Guide/index.html" target="_blank">
            <li class="mdl-menu__item">
                分享到 QQ
            </li>
        </a>
    

    <!-- Share Telegram -->
    
</ul>

</div>

                

                <!-- Post Content -->
                <div id="post-content" class="markdown-Github mdl-color-text--grey-700 mdl-card__supporting-text fade out">
    
        <blockquote>
<p>国外友人总结的Vue.Js组件规范,原文地址：<a href="https://github.com/pablohpsilva/vuejs-component-style-guide/blob/master/README-CN.md#%E7%9B%AE%E5%BD%95" target="_blank" rel="external">pablohpsilva/vuejs-component-style-guide</a></p>
</blockquote>
<h1 id="Vue-js-组件编码规范"><a href="#Vue-js-组件编码规范" class="headerlink" title="Vue.js 组件编码规范"></a>Vue.js 组件编码规范</h1><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>本规范提供了一种统一的编码规范来编写 <a href="http://vuejs.org/" target="_blank" rel="external">Vue.js</a> 代码。这使得代码具有如下的特性：</p>
<ul>
<li>其它开发者或是团队成员更容易阅读和理解。</li>
<li>IDEs 更容易理解代码，从而提供高亮、格式化等辅助功能</li>
<li>更容易使用现有的工具</li>
<li>更容易实现缓存以及代码包的分拆</li>
</ul>
<p>本指南为 <a href="https://github.com/voorhoede" target="_blank" rel="external">De Voorhoede</a> 参考 <a href="https://github.com/voorhoede/riotjs-style-guide" target="_blank" rel="external">RiotJS 编码规范</a> 而写。</p>
<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><ul>
<li><a href="#基于模块开发">基于模块开发</a></li>
<li><a href="#vue-组件命名">vue 组件命名</a><!-- * [使用 `*.vue` 扩展名](#使用-vue-后缀作为扩展名) --> </li>
<li><a href="#组件表达式简单化">组件表达式简单化</a></li>
<li><a href="#组件-props-原子化">组件 props 原子化</a></li>
<li><a href="#验证组件的-props">验证组件的 props</a></li>
<li><a href="#将-this-赋值给-component-变量">将 <code>this</code> 赋值给 <code>component</code> 变量</a></li>
<li><a href="#组件结构化">组件结构化</a></li>
<li><a href="#组件事件命名">组件事件命名</a></li>
<li><a href="#避免-this.$parent">避免 <code>this.$parent</code></a></li>
<li><a href="#谨慎使用-this.$refs">谨慎使用 <code>this.$refs</code></a></li>
<li><a href="#使用组件名作为样式作用域空间">使用组件名作为样式作用域空间</a></li>
<li><a href="#提供组件-api-文档">提供组件 API 文档</a></li>
<li><a href="#提供组件-demo">提供组件 demo</a></li>
<li><a href="#对组件文件进行代码校验">对组件文件进行代码校验</a><!-- * [为你的项目添加徽章标识](#为你的项目添加徽章标识) -->
</li>
</ul>
<h2 id="基于模块开发"><a href="#基于模块开发" class="headerlink" title="基于模块开发"></a>基于模块开发</h2><p>始终基于模块的方式来构建你的 app，每一个子模块只做一件事情。</p>
<p>Vue.js 的设计初衷就是帮助开发者更好的开发界面模块。一个模块是应用程序中独立的一个部分。</p>
<h3 id="怎么做？"><a href="#怎么做？" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>每一个 Vue 组件(等同于模块)<a href="(https://addyosmani.com/first/">首先</a>)必须专注于解决一个<a href="http://en.wikipedia.org/wiki/Single_responsibility_principle" target="_blank" rel="external">单一的问题</a>，<em>独立的</em>, <em>可复用的</em>, <em>微小的</em> and <em>可测试的</em>。</p>
<p>如果你的组件做了太多的事或是变得臃肿，请将其拆分成更小的组件并保持单一的原则。一般来说，尽量保证每一个文件的代码行数不要超过 100 行。也请保证组件可独立的运行。比较好的做法是增加一个单独的 demo 示例。</p>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="Vue-组件命名"><a href="#Vue-组件命名" class="headerlink" title="Vue 组件命名"></a>Vue 组件命名</h2><p>组件的命名需遵从以下原则：</p>
<ul>
<li><strong>有意义的</strong>: 不过于具体，也不过于抽象</li>
<li><strong>简短</strong>: 2 到 3 个单词</li>
<li><strong>具有可读性</strong>: 以便于沟通交流</li>
</ul>
<p>同时还需要注意：</p>
<ul>
<li>必须符合<strong>自定义元素规范</strong>: <a href="https://www.w3.org/TR/custom-elements/#concepts" target="_blank" rel="external">使用连字符</a>分隔单词，切勿使用保留字。</li>
<li><strong><code>app-</code> 前缀作为命名空间</strong>: 如果非常通用的话可使用一个单词来命名，这样可以方便于其它项目里复用。</li>
</ul>
<h3 id="为什么？"><a href="#为什么？" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>组件是通过组件名来调用的。所以组件名必须简短、富有含义并且具有可读性。</li>
</ul>
<h3 id="如何做？"><a href="#如何做？" class="headerlink" title="如何做？"></a>如何做？</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 推荐 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">app-header</span>&gt;</span><span class="tag">&lt;/<span class="name">app-header</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">user-list</span>&gt;</span><span class="tag">&lt;/<span class="name">user-list</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">range-slider</span>&gt;</span><span class="tag">&lt;/<span class="name">range-slider</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 避免 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">btn-group</span>&gt;</span><span class="tag">&lt;/<span class="name">btn-group</span>&gt;</span> <span class="comment">&lt;!-- 虽然简短但是可读性差. 使用 `button-group` 替代 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">ui-slider</span>&gt;</span><span class="tag">&lt;/<span class="name">ui-slider</span>&gt;</span> <span class="comment">&lt;!-- ui 前缀太过于宽泛，在这里意义不明确 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">slider</span>&gt;</span><span class="tag">&lt;/<span class="name">slider</span>&gt;</span> <span class="comment">&lt;!-- 与自定义元素规范不兼容 --&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="组件表达式简单化"><a href="#组件表达式简单化" class="headerlink" title="组件表达式简单化"></a>组件表达式简单化</h2><p>Vue.js 的表达式是 100% 的 Javascript 表达式。这使得其功能性很强大，但也带来潜在的复杂性。因此，你应该尽量<strong>保持表达式的简单化</strong>。</p>
<h3 id="为什么？-1"><a href="#为什么？-1" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>复杂的行内表达式难以阅读。</li>
<li>行内表达式是不能够通用的，这可能会导致重复编码的问题。</li>
<li>IDE 基本上不能识别行内表达式语法，所以使用行内表达式 IDE 不能提供自动补全和语法校验功能。</li>
</ul>
<h3 id="怎么做？-1"><a href="#怎么做？-1" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>如果你发现写了太多复杂并难以阅读的行内表达式，那么可以使用 method 或是 computed 属性来替代其功能。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 推荐 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span></div><div class="line">    &#123;&#123; `$&#123;year&#125;-$&#123;month&#125;` &#125;&#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line">  export default &#123;</div><div class="line">    computed: &#123;</div><div class="line">      month() &#123;</div><div class="line">        return this.twoDigits((new Date()).getUTCMonth() + 1);</div><div class="line">      &#125;,</div><div class="line">      year() &#123;</div><div class="line">        return (new Date()).getUTCFullYear();</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">      twoDigits(num) &#123;</div><div class="line">        return ('0' + num).slice(-2);</div><div class="line">      &#125;</div><div class="line">    &#125;,</div><div class="line">  &#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 避免 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span></div><div class="line">    &#123;&#123; `$&#123;(new Date()).getUTCFullYear()&#125;-$&#123;('0' + ((new Date()).getUTCMonth()+1)).slice(-2)&#125;` &#125;&#125;</div><div class="line">  <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h3 id="组件-props-原子化"><a href="#组件-props-原子化" class="headerlink" title="组件 props 原子化"></a>组件 props 原子化</h3><p>虽然 Vue.js 支持传递复杂的 JavaScript 对象通过 props 属性，但是你应该尽可能的使用原始类型的数据。尽量只使用<a href="https://developer.mozilla.org/en-US/docs/Glossary/Primitive" target="_blank" rel="external">JavaScript 原始类型</a>(字符串、数字、布尔值) 和 函数。尽量避免复杂的对象。</p>
<h3 id="为什么？-2"><a href="#为什么？-2" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>使得组件 API 清晰直观</li>
<li>只使用原始类型和函数作为 props 使得组件的 API 更接近于 HTML(5) 原生元素。</li>
<li>其它开发者更好的理解每一个 prop 的含义，作用</li>
<li>传递过于复杂的对象使得我们不能够清楚的知道哪些属性或方法被自定义组件使用，这使得代码难以重构和维护。</li>
</ul>
<h3 id="怎么做？-2"><a href="#怎么做？-2" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>组件的每一个属性单独使用一个 props，并且使用函数或是原始类型的值。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 推荐 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">range-slider</span></span></div><div class="line">  <span class="attr">:values</span>=<span class="string">"[10, 20]"</span></div><div class="line">  <span class="attr">min</span>=<span class="string">"0"</span></div><div class="line">  <span class="attr">max</span>=<span class="string">"100"</span></div><div class="line">  <span class="attr">step</span>=<span class="string">"5"</span></div><div class="line">  <span class="attr">:on-slide</span>=<span class="string">"updateInputs"</span></div><div class="line">  <span class="attr">:on-end</span>=<span class="string">"updateResults"</span>&gt;</div><div class="line"><span class="tag">&lt;/<span class="name">range-slider</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 避免 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">range-slider</span> <span class="attr">:config</span>=<span class="string">"complexConfigObject"</span>&gt;</span><span class="tag">&lt;/<span class="name">range-slider</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="验证组件的-props"><a href="#验证组件的-props" class="headerlink" title="验证组件的 props"></a>验证组件的 props</h2><p>在 Vue.js 中，组件的 props 即 API，一个稳定并可预测的 API 会使得你的组件更容易被其他开发者使用。</p>
<p>组件 props 通过自定义标签的属性来传递。属性的值可以是 Vue.js 字符串(<code>:attr=&quot;value&quot;</code> 或 <code>v-bind:attr=&quot;value&quot;</code>)或是不传。你需要保证组件的 props 能应对不同的情况。</p>
<h3 id="为什么？-3"><a href="#为什么？-3" class="headerlink" title="为什么？"></a>为什么？</h3><p>验证组件 props 可以保证你的组件永远是可用的(防御性编程)。即使其他开发者并未按照你预想的方法使用时也不会出错。</p>
<h3 id="怎么做？-3"><a href="#怎么做？-3" class="headerlink" title="怎么做？"></a>怎么做？</h3><ul>
<li>提供默认值</li>
<li>使用 <code>type</code> 属性<a href="http://vuejs.org/v2/guide/components.html#Prop-Validation" target="_blank" rel="external">校验类型</a></li>
<li>使用 props 之前先检查该 prop 是否存在</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"range"</span> <span class="attr">v-model</span>=<span class="string">"value"</span> <span class="attr">:max</span>=<span class="string">"max"</span> <span class="attr">:min</span>=<span class="string">"min"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line">  export default &#123;</div><div class="line">    props: &#123;</div><div class="line">      max: &#123;</div><div class="line">        type: Number, // 这里添加了数字类型的校验</div><div class="line">        default() &#123; return 10; &#125;,</div><div class="line">      &#125;,</div><div class="line">      min: &#123;</div><div class="line">        type: Number,</div><div class="line">        default() &#123; return 0; &#125;,</div><div class="line">      &#125;,</div><div class="line">      value: &#123;</div><div class="line">        type: Number,</div><div class="line">        default() &#123; return 4; &#125;,</div><div class="line">      &#125;,</div><div class="line">    &#125;,</div><div class="line">  &#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="将-this-赋值给-component-变量"><a href="#将-this-赋值给-component-变量" class="headerlink" title="将 this 赋值给 component 变量("></a>将 <code>this</code> 赋值给 <code>component</code> 变量(</h2><p>在 Vue.js 组件上下文中，<code>this</code>指向了组件实例。因此当你切换到了不同的上下文时，要确保 <code>this</code> 指向一个可用的 <code>component</code> 变量。</p>
<p>换句话说，不要在编写这样的代码 <code>const self = this;</code> ，而是应该直接使用变量 <code>component</code>。</p>
<h3 id="为什么？-4"><a href="#为什么？-4" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>将组件 <code>this</code> 赋值给变量 <code>component</code>可用让开发者清楚的知道任何一个被使用的地方，它代表的是组件实例。</li>
</ul>
<h3 id="怎么做？-4"><a href="#怎么做？-4" class="headerlink" title="怎么做？"></a>怎么做？</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line">export default &#123;</div><div class="line">  methods: &#123;</div><div class="line">    hello() &#123;</div><div class="line">      return 'hello';</div><div class="line">    &#125;,</div><div class="line">    printHello() &#123;</div><div class="line">      console.log(this.hello());</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">&#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- 避免 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line">export default &#123;</div><div class="line">  methods: &#123;</div><div class="line">    hello() &#123;</div><div class="line">      return 'hello';</div><div class="line">    &#125;,</div><div class="line">    printHello() &#123;</div><div class="line">      const self = this; // 没有必要</div><div class="line">      console.log(self.hello());</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div><div class="line">&#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="组件结构化"><a href="#组件结构化" class="headerlink" title="组件结构化"></a>组件结构化</h2><p>按照一定的结构组织，使得组件便于理解。</p>
<h3 id="为什么？-5"><a href="#为什么？-5" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>导出一个清晰、组织有序的组件，使得代码易于阅读和理解。同时也便于标准化。</li>
<li>按首字母排序属性，data, computed, watches 和 methods 使得属性便于查找。</li>
<li>合理组织，使得组件易于阅读。(name; extends; props, data and computed; components; watch and methods; lifecycle methods, 等.);</li>
<li>使用 <code>name</code> 属性。借助于<a href="https://chrome.google.com/webstore/detail/vuejs-devtools/nhdogjmejiglipccpnnnanhbledajbpd?hl=en" target="_blank" rel="external">vue devtools</a>可以让你更方便的测试</li>
<li>合理的 CSS 结构，如 <a href="https://medium.com/tldr-tech/bem-blocks-elements-and-modifiers-6b3b0af9e3ea#.bhnomd7gw" target="_blank" rel="external">BEM</a> 或 <a href="https://github.com/rstacruz/rscss" target="_blank" rel="external">rscss</a> - <a href="#使用组件名作为样式作用域空间">详情?</a>;</li>
<li>使用单文件 .vue 文件格式来组件代码</li>
</ul>
<h3 id="怎么做？-5"><a href="#怎么做？-5" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>组件结构化</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">lang</span>=<span class="string">"html"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"Ranger__Wrapper"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- ... --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line">  export default &#123;</div><div class="line">    // 不要忘记了 name 属性</div><div class="line">    name: 'RangeSlider',</div><div class="line">    // 组合其它组件</div><div class="line">    extends: &#123;&#125;,</div><div class="line">    // 组件属性、变量</div><div class="line">    props: &#123;</div><div class="line">      bar: &#123;&#125;, // 按字母顺序</div><div class="line">      foo: &#123;&#125;,</div><div class="line">      fooBar: &#123;&#125;,</div><div class="line">    &#125;,</div><div class="line">    // 变量</div><div class="line">    data() &#123;&#125;,</div><div class="line">    computed: &#123;&#125;,</div><div class="line">    // 使用其它组件</div><div class="line">    components: &#123;&#125;,</div><div class="line">    // 方法</div><div class="line">    watch: &#123;&#125;,</div><div class="line">    methods: &#123;&#125;,</div><div class="line">    // 生命周期函数</div><div class="line">    beforeCreate() &#123;&#125;,</div><div class="line">    mounted() &#123;&#125;,</div><div class="line">&#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line">  .Ranger__Wrapper &#123; /* ... */ &#125;</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="组件事件命名"><a href="#组件事件命名" class="headerlink" title="组件事件命名"></a>组件事件命名</h2><p>Vue.js 提供的处理函数和表达式都是绑定在 ViewModel 上的，组件的每一个事件都应该按照一个好的命名规范来，这样可以避免不少的开发问题，具体可见如下 <strong> 为什么</strong>。</p>
<h3 id="为什么？-6"><a href="#为什么？-6" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>开发者可以随意给事件命名，即使是原生事件的名字，这样会带来迷惑性。</li>
<li>过于宽松的事件命名可能与<a href="https://vuejs.org/v2/guide/components.html#DOM-Template-Parsing-Caveats" target="_blank" rel="external">DOM模板不兼容</a>。</li>
</ul>
<h3 id="怎么做？-6"><a href="#怎么做？-6" class="headerlink" title="怎么做？"></a>怎么做？</h3><ul>
<li>事件命名也连字符命名</li>
<li>一个事件的名字对应组件外的一组意义操作，如：upload-success, upload-error 以及 dropzone-upload-success, dropzone-upload-error (如果需要前缀的话)。</li>
<li>事件命名应该以动词(如 client-api-load) 或是 形容词(如 drive-upload-success)结尾。(<a href="https://github.com/GoogleWebComponents/style-guide#events" target="_blank" rel="external">出处</a>)</li>
</ul>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="避免-this-parent"><a href="#避免-this-parent" class="headerlink" title="避免 this.$parent"></a>避免 this.$parent</h2><p>Vue.js 支持组件嵌套，并且子组件可访问父组件的上下文。访问组件之外的上下文违反了<a href="基于模块开发">基于模块开发</a>的<a href="https://addyosmani.com/first/" target="_blank" rel="external">第一原则</a>。因此你应该尽量避免使用 <strong><code>this.$parent</code></strong>。</p>
<h3 id="为什么？-7"><a href="#为什么？-7" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>组件必须相互保持独立，Vue 组件也是。如果组件需要访问其父层的上下文就违反了该原则。</li>
<li>如果一个组件需要访问其父组件的上下文，那么该组件将不能再其它上下文中复用。</li>
</ul>
<h3 id="怎么做？-7"><a href="#怎么做？-7" class="headerlink" title="怎么做？"></a>怎么做？</h3><ul>
<li>通过 props 将值传递给子组件</li>
<li>通过 props 传递回调函数给子组件来达到调用父组件方法的目的</li>
<li>通过在子组件触发事件来通知父组件</li>
</ul>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="谨慎使用-this-refs"><a href="#谨慎使用-this-refs" class="headerlink" title="谨慎使用 this.$refs"></a>谨慎使用 this.$refs</h2><p>Vue.js 支持通过 <code>ref</code> 属性来访问其它组件和 HTML 元素。并通过 <code>this.$refs</code> 可以得到组件或 HTML 元素的上下文。在大多数情况下，通过 <code>this.$refs</code>来访问其它组件的上下文是可以避免的。在使用的的时候你需要注意避免调用了不恰当的组件 API，所以应该尽量避免使用 <code>this.$refs</code>。</p>
<h3 id="为什么？-8"><a href="#为什么？-8" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>组件必须是保持独立的，如果一个组件的 API 不能够提供所需的功能，那么这个组件在设计、实现上是有问题的。</li>
<li>组件的属性和事件必须足够的给大多数的组件使用</li>
</ul>
<h3 id="怎么做？-8"><a href="#怎么做？-8" class="headerlink" title="怎么做？"></a>怎么做？</h3><ul>
<li>提供良好的组件 API</li>
<li>总是关注于组件本身的目的</li>
<li>拒绝定制代码。如果你在一个通用的组件内部编写特定需求的代码，那么代表这个组件的 API 不够通用，或者你可能需要一个新的组件来应对该需求</li>
<li>检查所有的 props 是否有缺失的，如果有提一个 issue 或是完善这个组件</li>
<li>检查所有的事件。子组件向父组件通信一般是通过事件来实现的，但是大多数的开发者更多的关注于 props 从忽视了这点。</li>
<li><strong>Props向下传递，事件向上传递！</strong>。以此为目标升级你的组件，提供良好的 API 和 独立性。</li>
<li>当遇到 props 和 events 难以实现的功能时，通过 <code>this.$refs</code>来实现。</li>
<li>当需要操作 DOM 无法通过指令来做的时候可使用 <code>this..$ref</code> 而不是 <code>JQuery</code>, <code>document.getElement*</code>, <code>document.queryElement</code>。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 推荐，并未使用 this.$refs --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">range</span> <span class="attr">:max</span>=<span class="string">"max"</span></span></div><div class="line">  <span class="attr">:min</span>=<span class="string">"min"</span></div><div class="line">  @<span class="attr">current-value</span>=<span class="string">"currentValue"</span></div><div class="line">  <span class="attr">:step</span>=<span class="string">"1"</span>&gt;<span class="tag">&lt;/<span class="name">range</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 使用 this.$refs 的适用情况--&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">modal</span> <span class="attr">ref</span>=<span class="string">"basicModal"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">h4</span>&gt;</span>Basic Modal<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"primary"</span> @<span class="attr">click</span>=<span class="string">"$refs.basicModal.close()"</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">modal</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">"$refs.basicModal.open()"</span>&gt;</span>Open modal<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"></div><div class="line"><span class="comment">&lt;!-- Modal component --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">v-show</span>=<span class="string">"active"</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- ... --&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">  export default &#123;</div><div class="line">    // ...</div><div class="line">    data() &#123;</div><div class="line">        return &#123;</div><div class="line">            active: false,</div><div class="line">        &#125;;</div><div class="line">    &#125;,</div><div class="line">    methods: &#123;</div><div class="line">      open() &#123;</div><div class="line">        this.active = true;</div><div class="line">      &#125;,</div><div class="line">      hide() &#123;</div><div class="line">        this.active = false;</div><div class="line">      &#125;,</div><div class="line">    &#125;,</div><div class="line">    // ...</div><div class="line">  &#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="comment">&lt;!-- 如果可通过 emited 来做则避免通过 this.$refs 直接访问 --&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">template</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">range</span> <span class="attr">:max</span>=<span class="string">"max"</span></span></div><div class="line">    <span class="attr">:min</span>=<span class="string">"min"</span></div><div class="line">    <span class="attr">ref</span>=<span class="string">"range"</span></div><div class="line">    <span class="attr">:step</span>=<span class="string">"1"</span>&gt;<span class="tag">&lt;/<span class="name">range</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></div><div class="line">  export default &#123;</div><div class="line">    // ...</div><div class="line">    methods: &#123;</div><div class="line">      getRangeCurrentValue() &#123;</div><div class="line">        return this.$refs.range.currentValue;</div><div class="line">      &#125;,</div><div class="line">    &#125;,</div><div class="line">    // ...</div><div class="line">  &#125;;</div><div class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="使用组件名作为样式作用域空间"><a href="#使用组件名作为样式作用域空间" class="headerlink" title="使用组件名作为样式作用域空间"></a>使用组件名作为样式作用域空间</h2><p>Vue.js 的组件是自定义元素，这非常适合用来作为样式的根作用域空间。可以将组件名作为 css 类的命名空间。</p>
<h3 id="为什么？-9"><a href="#为什么？-9" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>给样式加上作用域空间可以避免组件样式影响外部的样式</li>
<li>保持模块名、目录名、样式根作用域名一样，可以很好的将其关联起来，便于开发者理解。</li>
</ul>
<h3 id="怎么做？-9"><a href="#怎么做？-9" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>使用组件名作为样式命名的前缀，可基于 BEM 或 OOCSS 范式。同时给style标签加上 scoped 属性。加上 scoped 属性编译后会给组件的 class 自动加上唯一的前缀从而避免样式的冲突。 </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">style</span> <span class="attr">scoped</span>&gt;</span><span class="undefined"></span></div><div class="line">  /* 推荐 */</div><div class="line">  .MyExample &#123; &#125;</div><div class="line">  .MyExample li &#123; &#125;</div><div class="line">  .MyExample__item &#123; &#125;</div><div class="line"></div><div class="line">  /* 避免 */</div><div class="line">  .My-Example &#123; &#125; /* not scoped to component or module name, not BEM compliant */</div><div class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div></pre></td></tr></table></figure>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="提供组件-API-文档"><a href="#提供组件-API-文档" class="headerlink" title="提供组件 API 文档"></a>提供组件 API 文档</h2><p>使用 Vue.js 组件的过程中会创建 Vue 组件实例，这个实例是通过自定义属性配置的。为了便于其他开发者使用该组件，对于这些自定义属性即组件API应该在 <code>README.md</code> 文件中进行说明。</p>
<h2 id="为什么？-10"><a href="#为什么？-10" class="headerlink" title="为什么？"></a>为什么？</h2><ul>
<li>良好的文档可以让开发者比较容易的对组件有一个整体的认识，而不用去阅读组件的源码，也更方便开发者使用</li>
<li>组件配置属性即组件的 API，对于组件的用户来说他们更感兴趣的是 API 而不是实现原理。</li>
<li>正式的文档会告诉开发者组件 API 变更以及向后的兼容性情况</li>
<li><code>README.md</code> 是标准的我们应该首先阅读的文档文件。代码托管网站 (github/bitbucket/gitlab 等) 会默认在仓库中展示 该文件作为仓库的介绍。</li>
</ul>
<h3 id="怎么做？-10"><a href="#怎么做？-10" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>在模块目录中添加 <code>README.md</code> 文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">range-slider/</div><div class="line">├── range-slider.vue</div><div class="line">├── range-slider.less</div><div class="line">└── README.md</div></pre></td></tr></table></figure>
<p>在 README 文件中说明模块的功能以及使用场景。对于 vue 组件来说，比较有用的描述是组件的自定义属性即 API 的描述介绍。</p>
<h1 id="Range-slider"><a href="#Range-slider" class="headerlink" title="Range slider"></a>Range slider</h1><h2 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h2><p>range slider 组件可通过拖动的方式来设置一个给定范围内的数值。</p>
<p>该模块使用 <a href="http://refreshless.com/nouislider/" target="_blank" rel="external">noUiSlider</a> 来实现夸浏览器和 touch 功能的支持。</p>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><p><code>&lt;range-slider&gt;</code> 支持如下的自定义属性：</p>
<table>
<thead>
<tr>
<th>attribute</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>min</code></td>
<td>Number</td>
<td>可拖动的最小值.</td>
</tr>
<tr>
<td><code>max</code></td>
<td>Number</td>
<td>可拖动的最大值.</td>
</tr>
<tr>
<td><code>values</code></td>
<td>Number[] <em>optional</em></td>
<td>包含最大值和最小值的数组.  如. <code>values=&quot;[10, 20]&quot;</code>. Defaults to <code>[opts.min, opts.max]</code>.</td>
</tr>
<tr>
<td><code>step</code></td>
<td>Number <em>optional</em></td>
<td>增加减小的数值单位，默认为 1.</td>
</tr>
<tr>
<td><code>on-slide</code></td>
<td>Function <em>optional</em></td>
<td>用户拖动开始按钮或者结束按钮时的回调函数，函数接受 <code>(values, HANDLE)</code> 格式的参数。 如： <code>on-slide={ updateInputs }</code>,  <code>component.updateInputs = (values, HANDLE) =&gt; { const value = values[HANDLE]; }</code>.</td>
</tr>
<tr>
<td><code>on-end</code></td>
<td>Function <em>optional</em></td>
<td>当用户停止拖动时触发的回调函数，函数接受 <code>(values, HANDLE)</code> 格式的参数。</td>
</tr>
</tbody>
</table>
<p>如需要自定义 slider 的样式可参考 <a href="(http://refreshless.com/nouislider/more/#section-styling">noUiSlider 文档</a>)</p>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="提供组件-demo"><a href="#提供组件-demo" class="headerlink" title="提供组件 demo"></a>提供组件 demo</h2><p>添加 <code>index.html</code> 文件作为组件的 demo 示例，并提供不同配置情况的效果，说明组件是如何使用的。</p>
<h3 id="为什么？-11"><a href="#为什么？-11" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>demo 可以说明组件是独立可使用的</li>
<li>demo 可以让开发者预览组件的功能效果</li>
<li>demo 可以展示组件各种配置参数下的功能</li>
</ul>
<p><a href="#目录">↑ 回到目录</a></p>
<h2 id="对组件文件进行代码校验"><a href="#对组件文件进行代码校验" class="headerlink" title="对组件文件进行代码校验"></a>对组件文件进行代码校验</h2><p>代码校验可以保持代码的统一性以及追踪语法错误。.vue 文件可以通过使用 <code>eslint-plugin-html</code>插件来校验代码。你可以通过 <code>vue-cli</code> 来开始你的项目，<code>vue-cli</code> 默认会开启代码校验功能。</p>
<h3 id="为什么？-12"><a href="#为什么？-12" class="headerlink" title="为什么？"></a>为什么？</h3><ul>
<li>保证所有的开发者使用同样的编码规范。</li>
<li>更早的感知到语法错误</li>
</ul>
<h3 id="怎么做？-11"><a href="#怎么做？-11" class="headerlink" title="怎么做？"></a>怎么做？</h3><p>为了校验工具能够校验 <code>*.vue</code>文件，你需要将代码编写在 <code>&lt;script&gt;</code>标签中，并使<a href="#保持组件表达式简单化">组件表达式简单化</a>，因为校验工具无法理解行内表达式，配置校验工具可以访问全局变量 <code>vue</code> 和组件的 <code>props</code>。</p>
<h4 id="ESLint"><a href="#ESLint" class="headerlink" title="ESLint"></a>ESLint</h4><p><a href="http://eslint.org/" target="_blank" rel="external">ESLint</a> 需要通过 <a href="https://github.com/BenoitZugmeyer/eslint-plugin-html#eslint-plugin-html" target="_blank" rel="external">ESLint HTML 插件</a>来抽取组件中的代码。</p>
<p>通过 <code>.eslintrc</code> 文件来配置 ESlint，这样 IED 可以更好的理解校验配置项。 ESlint，这样.</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"extends"</span>: <span class="string">"eslint:recommended"</span>,</div><div class="line">  <span class="attr">"plugins"</span>: [<span class="string">"html"</span>],</div><div class="line">  <span class="attr">"env"</span>: &#123;</div><div class="line">    <span class="attr">"browser"</span>: <span class="literal">true</span></div><div class="line">  &#125;,</div><div class="line">  <span class="attr">"globals"</span>: &#123;</div><div class="line">    <span class="attr">"opts"</span>: <span class="literal">true</span>,</div><div class="line">    <span class="attr">"vue"</span>: <span class="literal">true</span></div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行 ESLint </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">eslint src/**/*.vue</div></pre></td></tr></table></figure>
<h4 id="JSHint"><a href="#JSHint" class="headerlink" title="JSHint"></a>JSHint</h4><p><a href="http://jshint.com/" target="_blank" rel="external">JSHint</a> 可以解析 HTML (使用 <code>--extra-ext</code>命令参数) 和 抽取代码（使用 <code>--extract=auto</code>命令参数).</p>
<p>通过 <code>.jshintrc</code> 文件来配置 ESlint，这样 IED 可以更好的理解校验配置项。</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">  <span class="attr">"browser"</span>: <span class="literal">true</span>,</div><div class="line">  <span class="attr">"predef"</span>: [<span class="string">"opts"</span>, <span class="string">"vue"</span>]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>运行 JSHint<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">jshint --config modules/.jshintrc --extra-ext=html --extract=auto modules/</div></pre></td></tr></table></figure></p>
<p>注：JSHint 不接受 <code>vue</code> 扩展名的文件，只支持 <code>html</code>。</p>
<p><a href="#目录">↑ 回到目录</a></p>
<hr>
<h3 id="如何提供帮助？"><a href="#如何提供帮助？" class="headerlink" title="如何提供帮助？"></a>如何提供帮助？</h3><p>Fork 和 提 PR 以帮助我们改进或者可以给我们提 <a href="https://github.com/pablohpsilva/vuejs-component-style-guide/issues/new" target="_blank" rel="external">Issue</a>.</p>
<h2 id="译者"><a href="#译者" class="headerlink" title="译者"></a>译者</h2><ul>
<li><a href="https://github.com/xiaofuzi" target="_blank" rel="external">杨小福</a></li>
</ul>

    

    
</div>


                

                <!-- Post Comments -->
                
                    
    <!-- 使用多说评论 -->
    <link rel="stylesheet" href="/css/duoshuo.min.css">
<style>
    #ds-thread #ds-reset .ds-post-button{
        background-color: #95A5A6 !important;
    }
    #ds-wrapper #ds-reset .ds-icons-32{
        background-color: #95A5A6 !important;
    }
    #ds-reset .ds-highlight {
        color: #95A5A6 !important;
    }
</style>
<div id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread"
        data-thread-key=""
        data-url="http://blog.ygxdxx.com/2017/03/09/Vuejs-Component-Style-Guide/"
        data-title="Vue.js 组件编码规范">
    </div>
    <!-- 多说评论框 end -->
</div>







                
            </div>

            <!-- Post Prev & Next Nav -->
            <nav class="material-nav mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
    <!-- Prev Nav -->
    
        <a href="/2017/04/13/vue-project-practice/" id="post_nav-newer" class="prev-content">
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_back</i>
            </button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            新篇
        </a>
    

    <!-- Section Spacer -->
    <div class="section-spacer"></div>

    <!-- Next Nav -->
    
        <a href="/2017/03/06/Vue2&Weixin-Develop/" id="post_nav-older" class="next-content">
            旧篇
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                <i class="material-icons">arrow_forward</i>
            </button>
        </a>
    
</nav>

        </div>
    </div>



                    
                        <!-- Overlay For Active Sidebar -->
<div class="sidebar-overlay"></div>

<!-- Material sidebar -->
<aside id="sidebar" class="sidebar sidebar-colored sidebar-fixed-left" role="navigation">
    <div id="sidebar-main">
        <!-- Sidebar Header -->
        <div class="sidebar-header header-cover" style="background-image: url(/img/sidebar_header.png);">
    <!-- Top bar -->
    <div class="top-bar"></div>

    <!-- Sidebar toggle button -->
    <button type="button" class="sidebar-toggle mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon" style="display: initial;" data-upgraded=",MaterialButton,MaterialRipple">
        <i class="material-icons">clear_all</i>
        <span class="mdl-button__ripple-container">
            <span class="mdl-ripple">
            </span>
        </span>
    </button>

    <!-- Sidebar Avatar -->
    <div class="sidebar-image">
        <img src="/img/avatar.png" alt="Hope's avatar">
    </div>

    <!-- Sidebar Email -->
    <a data-toggle="dropdown" class="sidebar-brand" href="#settings-dropdown">
        hopefullstack@gmail.com
        <b class="caret"></b>
    </a>
</div>


        <!-- Sidebar Navigation  -->
        <ul class="nav sidebar-nav">
    <!-- User dropdown  -->
    <li class="dropdown">
        <ul id="settings-dropdown" class="dropdown-menu">
            
                <li>
                    <a href="#" target="_blank" title="Email Me">
                        <i class="material-icons sidebar-material-icons sidebar-indent-left1pc-element">email</i>
                        Email Me
                    </a>
                </li>
            
        </ul>
    </li>

    <!-- Homepage -->
    <li id="sidebar-first-li">
        <a href="/" target="_self">
            <i class="material-icons sidebar-material-icons">home</i>
            主页
        </a>
    </li>

    <!-- I'm Feeling Lucky -->
    <!--
    <li class="dropdown">
        <a href="" target="_self">
            <i class="material-icons sidebar-material-icons">explore</i>
             sidebar.imlucky
        </a>
    </li>
    -->

    <!-- Archives  -->
    <li class="dropdown">
        <a href="#" class="ripple-effect dropdown-toggle" data-toggle="dropdown">
            <i class="material-icons sidebar-material-icons">inbox</i>
             归档
            <b class="caret"></b>
        </a>
        <ul class="dropdown-menu">
            <li>
            <a class="sidebar_archives-link" href="/archives/2017/04/">四月 2017<span class="sidebar_archives-count">1</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/03/">三月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/02/">二月 2017<span class="sidebar_archives-count">2</span></a></li><li><a class="sidebar_archives-link" href="/archives/2017/01/">一月 2017<span class="sidebar_archives-count">2</span></a>
        </ul>
    </li>

    <!-- Categories  -->
    

    <!-- Divider -->
    <li class="divider"></li>


    <!-- Pages  -->
  	
        <li>
            <a href="null" title="about">
                
                about
            </a>
        </li>
  	

    <!-- Article Numebr  -->
    <li>
        <a href="/archives">
            文章总数
            <span class="sidebar-badge">7</span>
        </a>
    </li>
</ul>


        <!-- Sidebar Divider -->
        <div class="sidebar-divider"></div>

        <!-- Sidebar Footer -->
        <!--
I'm glad you use this theme, the development is no so easy, I hope you can keep the copyright, I will thank you so much.
If you still want to delete the copyrights, could you still retain the first one? Which namely "Theme Material"
It will not impact the appearance and can give developers a lot of support :)

很高兴您使用并喜欢该主题，开发不易 十分谢谢与希望您可以保留一下版权声明。
如果您仍然想删除的话 能否只保留第一项呢？即 "Theme Material"
它不会影响美观并可以给开发者很大的支持和动力。 :)
-->

<!-- Theme Material -->
<a href="https://github.com/viosey/hexo-theme-material"  class="sidebar-footer-text-a" target="_blank">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
        主题 - Material
        <span class="sidebar-badge badge-circle">i</span>
    </div>
</a>

<!-- Help & Support -->
<!--
<a href="mailto:hiviosey@gmail.com" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
    sidebar.help
    <span class="mdl-button__ripple-container">
      <span class="mdl-ripple"></span>
    </span>
  </div>
</a>
-->

<!-- Feedback -->
<!--
<a href="https://github.com/viosey/hexo-theme-material/issues" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.feedback
                    <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>
-->

<!-- Abount Theme -->
<!--
<a href="https://blog.viosey.com/index.php/Material.html" target="_blank" class="sidebar-footer-text-a">
    <div class="sidebar-text mdl-button mdl-js-button mdl-js-ripple-effect sidebar-footer-text-div" data-upgraded=",MaterialButton,MaterialRipple">
         sidebar.about_theme
        <span class="mdl-button__ripple-container"><span class="mdl-ripple"></span></span></div>
</a>-->

    </div>

    <!-- Sidebar Sponsor -->
    

</aside>

                    

                    
                        <!-- Footer Top Button -->
                        <div class="toTop-wrap">
    <a href="#top" class="toTop">
        <i class="material-icons footer_top-i">expand_less</i>
    </a>
</div>

                    

                    <!--Footer-->
<footer class="mdl-mini-footer" id="bottom">
    <div style="display:block;width:100%;height:30px;text-indent:20px;">
        友情链接：
        <a href="http://blog.gejiawen.com/" title="蛋糕仙人的博客">蛋糕仙人的博客</a>
    </div>
    
        <!-- Paradox Footer Left Section -->
        <div class="mdl-mini-footer--left-section sns-list">
    <!-- Twitter -->
    

    <!-- Facebook -->
    

    <!-- Google + -->
    

    <!-- Weibo -->
    
        <a href="http://weibo.com/u/3312767933" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-weibo.png);">
                <span class="visuallyhidden">Weibo</span>
            </button><!--
     --></a>
    

    <!-- Instagram -->
    

    <!-- Tumblr -->
    

    <!-- Github -->
    
        <a href="https://github.com/HopeFE" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-github.png);">
                <span class="visuallyhidden">Github</span>
            </button><!--
     --></a>
    

    <!-- LinkedIn -->
    

    <!-- Zhihu -->
    

    <!-- Bilibili -->
    

    <!-- Telegram -->
    

     <!-- coding -->

    
        <a href="https://coding.net/u/ygxdxx" target="_blank">
            <button class="mdl-mini-footer--social-btn social-btn" style="background-image: url(/img/footer/footer_ico-coding.png);">
                <span class="visuallyhidden">coding</span>
            </button><!--
     --></a>
    
</div>


        <!--Copyright-->
        <div id="copyright">
            Copyright&nbsp;©&nbsp;
            <script type="text/javascript">
                var fd = new Date();
                document.write(fd.getFullYear());
            </script>
            &nbsp;Hope's Blog
        </div>

        <!-- Paradox Footer Right Section -->

        <!--
        I am glad you use this theme, the development is no so easy, I hope you can keep the copyright.
        It will not impact the appearance and can give developers a lot of support :)

        很高兴您使用该主题，开发不易，希望您可以保留一下版权声明。
        它不会影响美观并可以给开发者很大的支持。 :)
        -->

        <div class="mdl-mini-footer--right-section">
            <div>
                <div class="footer-develop-div">Powered by <a href="https://hexo.io" target="_blank" class="footer-develop-a">Hexo</a></div>
                <div class="footer-develop-div">Theme - <a href="https://github.com/viosey/hexo-theme-material" target="_blank" class="footer-develop-a">Material</a></div>
            </div>
        </div>
    
</footer>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?c1af7fb42487daaea8e2ff546cf1f77a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


                    <!-- Import File -->
<script src="/js/highlight.min.js"></script>
<script src="/js/js.min.js"></script>
<script src="/js/nprogress.js"></script>

<script type="text/javascript">
    NProgress.configure({
        showSpinner: true
    });
    NProgress.start();

    $('#nprogress .bar').css({
        'background': '#BDC3C7'
    });
    $('#nprogress .peg').css({
        'box-shadow': '0 0 10px #BDC3C7, 0 0 15px #BDC3C7'
    });
    $('#nprogress .spinner-icon').css({
        'border-top-color': '#BDC3C7',
        'border-left-color': '#BDC3C7'
    });

    setTimeout(function() {
        NProgress.done();
        $('.fade').removeClass('out');
    }, 800);
</script>





    <!-- Leancloud -->
    <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
    <script>
        AV.initialize("v3gFPp6IXkBUNpa5uzkbGhmA-gzGzoHsz", "Wrvunr7zaxpEddYe8t6SvtuI");
    </script>
    <script>
    function showTime(Counter) {
        var query = new AV.Query(Counter);
        $('.leancloud-views_num').each(function() {
            var url = $(this).attr('id').trim();
            query.equalTo('url', url);
            query.find({
                success: function(results) {
                    if (results.length === 0) {
                        var content = '0 ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                        return;
                    }
                    for (var i = 0; i < results.length; i++) {
                        var object = results[i];
                        var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    }
                },
                error: function(object, error) {
                    console.log('Error: ' + error.code + ' ' + error.message);
                }
            });
        });
    }

    function addCount(Counter) {
      var Counter = AV.Object.extend('Counter');
      url = $('.leancloud-views_num').attr('id').trim();
      title = $('.leancloud-views_num').attr('data-flag-title').trim();
      var query = new AV.Query(Counter);
      query.equalTo('url', url);
      query.find({
          success: function(results) {
            if (results.length > 0) {
                var counter = results[0];
                counter.fetchWhenSave(true);
                counter.increment('time');
                counter.save(null, {
                    success: function(counter) {
                        var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
                        $(document.getElementById(url)).text(content);
                    },
                    error: function(counter, error) {
                        console.log('Failed to save Visitor num, with error message: ' + error.message);
                    }
                });
            } else {
              var newcounter = new Counter();
              newcounter.set('title', title);
              newcounter.set('url', url);
              newcounter.set('time', 1);
              newcounter.save(null, {
                  success: function(newcounter) {
                      console.log('newcounter.get(\'time\')='+newcounter.get('time'));
                      var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
                      $(document.getElementById(url)).text(content);
                  },
                  error: function(newcounter, error) {
                      console.log('Failed to create');
                  }
              });
            }
        },
        error: function(error) {
            console.log('Error:' + error.code + ' ' + error.message);
        }
      });
    }
    $(function() {
        var Counter = AV.Object.extend('Counter');
        if ($('.leancloud-views_num').length === 1) {
            addCount(Counter);
        } else if ($('.post-title-link').length > 1) {
            showTime(Counter);
        }
    });
</script>






    <!-- 多说公共 js 代码 start -->
    <script type="text/javascript">
        var duoshuoQuery = {
            short_name: 'Blog-Hope'
        };
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';
            ds.async = true;
            ds.src = 'https://static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0]
             || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>
    <!-- 多说公共 js 代码 end -->





<!-- Swiftye -->


<!-- Local Search-->

    <script>
    var searchFunc = function(path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: 'xml',
            success: function( xmlResponse ) {
                // get the contents from search data
                var datas = $( 'entry', xmlResponse ).map(function() {
                    return {
                        title: $( 'title', this ).text(),
                        content: $('content',this).text(),
                        url: $( 'url' , this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function() {
                    var str='<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function(data) {
                        var isMatch = true;
                        var content_index = [];
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                        var data_url = data.url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if(data_title != '' && data_content != '') {
                            keywords.forEach(function(keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if( index_title < 0 && index_content < 0 ) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += '<li><a href="'+ data_url +'" class="search-result-title" target="_blank">'+ data_title;
                            var content = data.content.trim().replace(/<[^>]+>/g, '');
                            if (first_occur >= 0) {
                                // cut out characters
                                var start = first_occur - 6;
                                var end = first_occur + 6;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 10;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function(keyword) {
                                    var regS = new RegExp(keyword, 'gi');
                                    match_content = match_content.replace(regS, '<em class="search-keyword">'+keyword+'</em>');
                                })
                                str += '<p class="search-result">' + match_content +'...</p>' +'</a>';
                            }
                        }
                    });
                    $resultContent.innerHTML = str;
                });
            }
        });
    }
</script>


    <script>
        var inputArea = document.querySelector('#search');
        var getSearchFile = function() {
            var path = 'search.xml';
            searchFunc(path, 'search', 'local-search-result');
        }

        if(inputArea) {
            inputArea.onfocus = function() {
                getSearchFile();
            }
        }
    </script>


<!-- Window Load-->
<script>
    $(window).load(function() {
        // Post_Toc parent position fixed
        $('.post-toc-wrap').parent('.mdl-menu__container').css('position', 'fixed');
    });
</script>

<!-- MathJax Load-->


                </main>
            </div>
        </body>
    
</html>
