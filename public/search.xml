<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[Vuex2ä¸Axioså¼€å‘]]></title>
      <url>http://ygxdxx.coding.me/2017/02/01/Vuex2%E4%B8%8EAxios%E5%BC%80%E5%8F%91/</url>
      <content type="html"><![CDATA[<h1 id="Vuex2å’ŒAxioså¼€å‘é‚£ç‚¹äº‹"><a href="#Vuex2å’ŒAxioså¼€å‘é‚£ç‚¹äº‹" class="headerlink" title="Vuex2å’ŒAxioså¼€å‘é‚£ç‚¹äº‹"></a>Vuex2å’ŒAxioså¼€å‘é‚£ç‚¹äº‹</h1><blockquote>
<p>æ€»ç»“ç¬”è€…æœ€è¿‘åœ¨é¡¹ç›®ä¸­ä½¿ç”¨Vuex2å’ŒAxiosçš„æ€»ç»“å’Œå°æŠ€å·§ï¼Œæ–¹ä¾¿æ—¥åæŸ¥çœ‹ã€‚æœ¬äººèƒ½åŠ›æœ‰é™ï¼Œå¦‚æœ‰é”™è¯¯è¿˜è¯·å¤§å¤§ä»¬æŒ‡æ­£æ¢è®¨ğŸ˜­ã€‚</p>
</blockquote>
<h1 id="é˜…è¯»å‰é¡»çŸ¥"><a href="#é˜…è¯»å‰é¡»çŸ¥" class="headerlink" title="é˜…è¯»å‰é¡»çŸ¥"></a>é˜…è¯»å‰é¡»çŸ¥</h1><p>æ¥ä¸Šä¸€ç¯‡çš„<a href="https://ygxdxx.coding.me/2017/01/29/Axios%E7%9A%84%E9%85%8D%E7%BD%AE/">Axiosçš„é…ç½®</a>ï¼Œé˜…è¯»æœ¬æ–‡é»˜è®¤æ‚¨å·²ç»æŒæ¡äº†Vuex2çš„åŸºæœ¬è¯­æ³•ã€Axiosçš„ä½¿ç”¨é…ç½®ä¸æ–¹æ³•ã€Promiseçš„åŸºæœ¬è¯­æ³•ã€‚ï¼ˆä¸‹é¢å°†æ”¾å‡ºå‚è€ƒé“¾æ¥æ–¹ä¾¿å¤§å®¶åœ¨æœ‰ä¸æ˜ç™½çš„åœ°æ–¹æŸ¥çœ‹ï¼‰æ­¤ç¯‡ä¸»è¦å™è¿°æˆ‘åœ¨å®é™…é¡¹ç›®è¿‡ç¨‹ä¸­Vuex2å’ŒAxiosçš„ç»„åˆæ“ä½œã€‚</p>
<p>å‚è€ƒï¼š</p>
<ul>
<li><a href="https://vuex.vuejs.org/zh-cn/index.html" target="_blank" rel="external">Vueå•å‘æ•°æ®æµ-Vuex2</a></li>
<li><a href="https://github.com/mzabriskie/axioss://vuex.vuejs.org/zh-cn/index.html" target="_blank" rel="external">Ajaxåº“-Axios</a></li>
<li><a href="http://www.jianshu.com/p/063f7e490e9aoss://vuex.vuejs.org/zh-cn/index.html" target="_blank" rel="external">Promiseä»‹ç»</a></li>
</ul>
<h2 id="Vuex2ä¸­çš„Actions"><a href="#Vuex2ä¸­çš„Actions" class="headerlink" title="Vuex2ä¸­çš„Actions"></a>Vuex2ä¸­çš„Actions</h2><p>åœ¨Vuex1ä¸­actionséƒ½å¯ä»¥ç»Ÿä¸€ä½¿ç”¨<code>dispatch</code>å»è§¦å‘<code>mutation</code>ï¼Œé‚£æ—¶å€™å»å¼‚æ­¥è¿™ç§æ•°æ®æµæ²¡ä»€ä¹ˆè®¤è¯†ã€‚åœ¨Vuex2ä¸­è§„å®šäº†,åŒæ­¥çš„æ–¹æ³•ä½¿ç”¨<code>commit</code>å»æäº¤<code>mutation</code>ï¼Œå¼‚æ­¥çš„æ–¹æ³•ï¼ˆå¦‚æ¥å£è¯·æ±‚ï¼Œå®Œæˆæ¥å£è¯·æ±‚åçš„æ“ä½œï¼‰åªèƒ½é€šè¿‡åˆ†å‘actionå»è§¦å‘ï¼Œå³ä½¿ç”¨<code>dispatch</code>ã€‚</p>
<p><img src="https://vuex.vuejs.org/zh-cn/images/flow.png" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"></p>
<p>è¿™é‡Œä¸ç»åæ§½2å¥ï¼ŒVuex2çš„Apiè¿˜æ˜¯è›®äººæ€§åŒ–çš„ï¼Œå¯¹æ¯”Reduxä¸ºäº†ç”¨å¥½å•å‘æ•°æ®æµï¼Œä¸å¾—ä¸å¼•å…¥ä¸€å¤§å †è¯¸å¦‚<code>react-redux</code>ã€<code>redux-saga</code>ã€<code>redux-thunk</code>â€¦ï¼Œå¯¹æ–°ä¸Šæ‰‹çš„å°ç™½æ¥è¯´ç®€ç›´æ˜¯ä¸€è„¸è’™è”½ã€‚ä¸Šé¢è¿™äº›åº“æ‰€å¸¦çš„åŠŸèƒ½ï¼Œç”¨Vuex2éƒ½å¯ä»¥å®Œæˆï¼ˆæ‰‹åŠ¨éª„å‚²ï¼‰ï¼Œå½“ç„¶Vuex2ä¹Ÿæ˜¯ç«™åœ¨è¿™äº›å·¨äººçš„è‚©è†€ä¸Šã€‚</p>
<p>ä¸‹é¢æ¥çœ‹ä¸‹<code>vuex2</code>ä¸­å…³äºactionsçš„API<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">ç±»å‹: &#123; [type: string]: <span class="built_in">Function</span> &#125;</div><div class="line"></div><div class="line">åœ¨ store ä¸Šæ³¨å†Œ actionã€‚å¤„ç†å‡½æ•°æ¥å—ä¸€ä¸ª context å¯¹è±¡ï¼ŒåŒ…å«ä»¥ä¸‹å±æ€§ï¼š</div><div class="line"></div><div class="line">&#123;</div><div class="line">  state,     <span class="comment">// ç­‰åŒäº store.state, è‹¥åœ¨æ¨¡å—ä¸­åˆ™ä¸ºå±€éƒ¨çŠ¶æ€</span></div><div class="line">  rootState, <span class="comment">// ç­‰åŒäº store.state, åªå­˜åœ¨äºæ¨¡å—ä¸­</span></div><div class="line">  commit,    <span class="comment">// ç­‰åŒäº store.commit</span></div><div class="line">  dispatch,  <span class="comment">// ç­‰åŒäº store.dispatch</span></div><div class="line">  getters    <span class="comment">// ç­‰åŒäº store.getters</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="Axiosçš„é…ç½®"><a href="#Axiosçš„é…ç½®" class="headerlink" title="Axiosçš„é…ç½®"></a>Axiosçš„é…ç½®</h2><p>è¿™ä¸ªæ˜¯æˆ‘é¡¹ç›®å†…Axiosçš„é…ç½®ï¼Œä¸»è¦åšäº†ä¸‹é¢å‡ ä»¶äº‹æƒ…</p>
<ol>
<li>5ç§’çš„è¶…æ—¶éªŒè¯</li>
<li>POSTçš„è®¾ç½®</li>
<li>ç»Ÿä¸€çš„responseå°è£…ã€‚æˆ‘é€šè¿‡æ¥å£ä¼ å›çš„CODEç å»åˆ¤æ–­è¯¥è¯·æ±‚æ˜¯å¦æ­£ç¡®<br>å¦‚æœæƒ³å»çœ‹æ›´è¯¦ç»†çš„è§£æå¯ä»¥é€šè¿‡<a href="https://ygxdxx.coding.me/2017/01/29/Axios%E7%9A%84%E9%85%8D%E7%BD%AE/">Axiosçš„é…ç½®</a></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></div><div class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">'qs'</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> _ <span class="keyword">from</span> <span class="string">'./whole'</span>    <span class="comment">//alert</span></div><div class="line"></div><div class="line">axios.defaults.timeout = <span class="number">5000</span>;</div><div class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded;charset=UTF-8'</span>;</div><div class="line">axios.defaults.baseURL = <span class="string">'http://xxx.xxx.com'</span>;</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//POSTä¼ å‚åºåˆ—åŒ–</span></div><div class="line">axios.interceptors.request.use(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span>(config.method  === <span class="string">'post'</span>)&#123;</div><div class="line">    config.data = qs.stringify(config.data);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> config;</div><div class="line">&#125;,(error) =&gt;&#123;</div><div class="line">   _.toast(<span class="string">"é”™è¯¯çš„ä¼ å‚"</span>);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//codeçŠ¶æ€ç 200åˆ¤æ–­</span></div><div class="line">axios.interceptors.response.use(<span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</div><div class="line">  <span class="keyword">if</span>(res.data.code != <span class="string">'200'</span>)&#123;</div><div class="line">    _.toast(res.data.msg);</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(res);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;, (error) =&gt; &#123;</div><div class="line">  _.toast(<span class="string">"ç½‘ç»œå¼‚å¸¸"</span>);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> axios;</div></pre></td></tr></table></figure>
<h2 id="å®Œæˆä¸€ä¸ªè¯·æ±‚æ“ä½œ"><a href="#å®Œæˆä¸€ä¸ªè¯·æ±‚æ“ä½œ" class="headerlink" title="å®Œæˆä¸€ä¸ªè¯·æ±‚æ“ä½œ"></a>å®Œæˆä¸€ä¸ªè¯·æ±‚æ“ä½œ</h2><p>ä¸‹é¢ä»‹ç»ä¸€ä¸ªç™»é™†actionçš„æ“ä½œï¼Œ</p>
<ol>
<li>åœ¨æ¥å£å‘èµ·è¯·æ±‚æ—¶è·³å‡ºloading</li>
<li>æ¥å£è¯·æ±‚æˆåŠŸç»“æŸloadingï¼Œå¹¶ä¿å­˜æ•°æ®è¿›å…¥store</li>
<li>æ¥å£è¯·æ±‚å¤±è´¥æŠ›å‡ºå¼‚å¸¸ï¼Œç»“æŸloadingã€‚</li>
<li>è¿”å›ä¸€ä¸ªPromiseå¯¹è±¡ï¼Œæ–¹ä¾¿ç»§ç»­æ“ä½œã€‚</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> login = <span class="function">(<span class="params">&#123; commit &#125;,params</span>) =&gt;</span> &#123;</div><div class="line">  _.busy();               <span class="comment">//lodingå¼€å§‹</span></div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span> &#123; </div><div class="line">    axios(&#123;</div><div class="line">      <span class="attr">method</span>:<span class="string">'get'</span>,</div><div class="line">      <span class="attr">url</span>: <span class="string">'teacher/login'</span>,</div><div class="line">      <span class="attr">params</span>: &#123;</div><div class="line">        <span class="attr">moblie</span>:params.mobile,</div><div class="line">        <span class="attr">password</span>:params.password,</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</div><div class="line">        commit(types.LOGIN,response.data.data); <span class="comment">//è·å¾—çš„æ•°æ®é€šè¿‡mutationï¼Œå­˜å…¥storeä¸­</span></div><div class="line">        _.leave();  <span class="comment">//lodingç»“æŸ</span></div><div class="line">        resolve(response);</div><div class="line">    &#125;)</div><div class="line">    .catch(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</div><div class="line">      _.leave();  <span class="comment">//lodingç»“æŸ</span></div><div class="line">    &#125;)</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> mutations = &#123;</div><div class="line">  [types.LOGIN](state, data)&#123;</div><div class="line">    state.token = data.token;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//è°ƒç”¨action</span></div><div class="line"></div><div class="line"><span class="keyword">import</span> &#123; mapActions,mapGetters  &#125; <span class="keyword">from</span> <span class="string">'vuex'</span></div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</div><div class="line">  <span class="attr">methods</span>:&#123;</div><div class="line">    ...mapActions([<span class="string">'login'</span>]),                   <span class="comment">//æ³¨å…¥action</span></div><div class="line">    _login()&#123;</div><div class="line">      <span class="keyword">let</span> params = &#123;</div><div class="line">        <span class="attr">mobile</span>:<span class="keyword">this</span>.mobile,</div><div class="line">        <span class="attr">pwd</span>:<span class="keyword">this</span>.password</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">this</span>.login(params).</div><div class="line">      then(<span class="function"><span class="params">()</span>=&gt;</span>&#123;</div><div class="line">          <span class="keyword">this</span>.$router.replace(<span class="string">'/main/index'</span>);          <span class="comment">//æ­£ç¡®å®Œæˆåè¿›å…¥ä¸»é¡µ</span></div><div class="line">      &#125;)</div><div class="line">      .catch(<span class="function">(<span class="params">error</span>)=&gt;</span>&#123;                                 <span class="comment">//é”™è¯¯åˆ™æ¸…ç©ºå¯†ç æ–‡æœ¬æ¡†</span></div><div class="line">          <span class="comment">//å¯ä»¥åœ¨è¿™é‡Œå¯¹Errorè¿›è¡Œæ•è·ï¼Œç„¶åæ ¹æ®é”™è¯¯ç±»å‹è¿›è¡Œç›¸å¯¹åº”çš„å¤„ç†</span></div><div class="line">          <span class="keyword">this</span>.pwd = <span class="string">''</span>;                           </div><div class="line">      &#125;);</div><div class="line">    &#125;</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<h2 id="ä¸€ç‚¹è¯´æ˜"><a href="#ä¸€ç‚¹è¯´æ˜" class="headerlink" title="ä¸€ç‚¹è¯´æ˜"></a>ä¸€ç‚¹è¯´æ˜</h2><p>å› ä¸ºåœ¨Vuex2ä¸­actionå¯ä»¥ç›´æ¥æ‹¿åˆ°Storeçš„å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>rootState</code>è¿™ä¸ªå‚æ•°æ‹¿åˆ°æ ¹çš„storeå€¼ï¼Œé€šè¿‡<code>state</code>æ‹¿åˆ°å½“å‰æ¨¡å—ä¸­storeçš„å€¼<br>éƒ½æ²¡å¿…è¦åœ¨ä»getteré‡Œæ‹¿åˆ°å€¼ï¼Œç„¶åé€šè¿‡paramsçš„æ–¹å¼ä¼ å…¥ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">const</span> xxx = <span class="function">(<span class="params">&#123;state,rootState,commit&#125;</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>)=&gt;</span> &#123; </div><div class="line">    axios(&#123;</div><div class="line">      <span class="attr">method</span>:<span class="string">'get'</span>,</div><div class="line">      <span class="attr">url</span>: <span class="string">'teacher/workbook/class/exercise'</span>,</div><div class="line">      <span class="attr">params</span>: &#123;</div><div class="line">        <span class="string">"token"</span>:rootState.login.token,          <span class="comment">//ä»storeæ ¹ä¸­æ‹¿åˆ°æ•°æ®</span></div><div class="line">        <span class="string">"classCode"</span>:state.code,                 <span class="comment">//ä»å½“å‰æ¨¡å—ä¸­æ‹¿åˆ°æ•°æ®</span></div><div class="line">        <span class="string">"chapterId"</span>:rootState.route.params.chapterId</div><div class="line">      &#125;</div><div class="line">    &#125;)</div><div class="line">    .then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</div><div class="line">      commit(types.WORKBOOK_CLASS_EXERCISE,response.data.data)</div><div class="line">      resolve(response);</div><div class="line">    &#125;)</div><div class="line">  &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>è¿™æ ·æ˜¯ä¸æ˜¯æ›´æ–¹ä¾¿æˆ‘ä»¬å»å®¡æŸ¥actionçš„ä»£ç ï¼Ÿ</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Axiosçš„é…ç½®]]></title>
      <url>http://ygxdxx.coding.me/2017/01/29/Axios%E7%9A%84%E9%85%8D%E7%BD%AE/</url>
      <content type="html"><![CDATA[<blockquote>
<p>ä»¥å‰å†™Vueé¡¹ç›®çš„æ—¶å€™éƒ½æ˜¯ä½¿ç”¨vue-resourceåšä¸ºé¡¹ç›®ajaxåº“ï¼Œåœ¨11æœˆä»½çš„æŸä¸€å¤©å°¤å¤§å¾®åšçš„æ›´æ–°è¡¨ç¤ºajaxçš„åº“åº”è¯¥æ˜¯é€šç”¨çš„ï¼Œæ”¾å¼ƒäº†å¯¹vue-resourceçš„æŠ€æœ¯æ”¯æŒï¼Œæ¨èä½¿ç”¨<a href="https://github.com/mzabriskie/axios" target="_blank" rel="external">axios</a>ã€‚</p>
</blockquote>
<p><img src="http://upload-images.jianshu.io/upload_images/1987062-b3255d564903d3d7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" alt="æ­¤å¤„è¾“å…¥å›¾ç‰‡çš„æè¿°"><br>æ—¢ç„¶å°¤å¤§æ¨èçš„åº”è¯¥æœ‰è¿‡äººä¹‹å¤„ï¼Œå¥½å§äºæ˜¯åœ¨æ–°çš„é¡¹ç›®ä¸Šå¼€å§‹ä½¿ç”¨Axios,å¼€å¯è¿™æ®µå­¦ä¹ ï¼ˆè¸©å‘ï¼‰çš„å†ç¨‹ã€‚</p>
<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install axios</div></pre></td></tr></table></figure>
<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><p>Axioså’Œå…¶ä»–çš„ajaxåº“éƒ½æ˜¯å¾ˆç±»ä¼¼çš„ï¼Œæä¾›äº†2ç§ä½¿ç”¨çš„æ–¹å¼ä¸€ç§æ˜¯ç›´æ¥ä½¿ç”¨å®ä¾‹æ–¹æ³•çš„å¦‚ï¼š<br>ä¸‹é¢æ˜¯å®ä¾‹çš„æ‰€æœ‰å¯ç”¨æ–¹æ³•ï¼Œæ–¹æ³•ä¸­çš„configä¼šä¸axioså®ä¾‹ä¸­çš„configåˆå¹¶ã€‚ï¼ˆå®ä¾‹å¯ä»¥å°†ä¸€äº›é€šç”¨çš„configå…ˆé…ç½®å¥½ï¼‰<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//axios.get</span></div><div class="line"><span class="comment">//axios.post</span></div><div class="line"></div><div class="line">axios.get(<span class="string">'/user?ID=12345'</span>)</div><div class="line">  .then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(response);</div><div class="line">  &#125;)</div><div class="line">  .catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(error);</div><div class="line">  &#125;);</div></pre></td></tr></table></figure></p>
<h1 id="Config-é…ç½®"><a href="#Config-é…ç½®" class="headerlink" title="Config é…ç½®"></a>Config é…ç½®</h1><p>Axiosçš„é…ç½®å‚æ•°å¾ˆå¤šï¼Œæˆ‘ä»¬æ¥ä¸€ä¸€äº†è§£</p>
<ul>
<li>url â€”â€” ç”¨æ¥å‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„url</li>
<li>method â€”â€” è¯·æ±‚æ–¹æ³•ï¼Œé»˜è®¤æ˜¯GETæ–¹æ³•</li>
<li>baseURL â€”â€” åŸºç¡€URLè·¯å¾„ï¼Œå‡å¦‚urlä¸æ˜¯ç»å¯¹è·¯å¾„ï¼Œå¦‚<a href="https://some-domain.com/api/v1/login?name=jack,é‚£ä¹ˆå‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„URLå°†ä¼šæ˜¯baseURL" target="_blank" rel="external">https://some-domain.com/api/v1/login?name=jack,é‚£ä¹ˆå‘æœåŠ¡å™¨å‘é€è¯·æ±‚çš„URLå°†ä¼šæ˜¯baseURL</a> + urlã€‚</li>
<li>transformRequest â€”â€” transformRequestæ–¹æ³•å…è®¸åœ¨è¯·æ±‚å‘é€åˆ°æœåŠ¡å™¨ä¹‹å‰ä¿®æ”¹è¯¥è¯·æ±‚ï¼Œæ­¤æ–¹æ³•åªé€‚ç”¨äºPUTã€POSTå’ŒPATCHæ–¹æ³•ä¸­ã€‚è€Œä¸”ï¼Œæ­¤æ–¹æ³•æœ€åå¿…é¡»è¿”å›ä¸€ä¸ªstringã€ArrayBufferæˆ–è€…Streamã€‚</li>
<li>transformResponse â€”â€” transformResponseæ–¹æ³•å…è®¸åœ¨æ•°æ®ä¼ é€’åˆ°then/catchä¹‹å‰ä¿®æ”¹responseæ•°æ®ã€‚æ­¤æ–¹æ³•æœ€åä¹Ÿè¦è¿”å›æ•°æ®ã€‚</li>
<li>headers â€”â€” å‘é€è‡ªå®šä¹‰Headerså¤´æ–‡ä»¶ï¼Œå¤´æ–‡ä»¶ä¸­åŒ…å«äº†httpè¯·æ±‚çš„å„ç§ä¿¡æ¯ã€‚</li>
<li>params â€”â€” paramsæ˜¯å‘é€è¯·æ±‚çš„æŸ¥è¯¢å‚æ•°å¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„æ•°æ®ä¼šè¢«æ‹¼æ¥æˆurl?param1=value1&amp;param2=value2ã€‚<br>paramsSerializer â€”â€” paramså‚æ•°åºåˆ—åŒ–å™¨ã€‚</li>
<li>data â€”â€” dataæ˜¯åœ¨å‘é€POSTã€PUTæˆ–è€…PATCHè¯·æ±‚çš„æ•°æ®å¯¹è±¡ã€‚</li>
<li>timeout â€”â€” è¯·æ±‚è¶…æ—¶è®¾ç½®ï¼Œå•ä½ä¸ºæ¯«ç§’</li>
<li>withCredentials â€”â€” è¡¨æ˜æ˜¯å¦æœ‰è·¨åŸŸè¯·æ±‚éœ€è¦ç”¨åˆ°è¯ä¹¦</li>
<li>adapter â€”â€” adapterå…è®¸ç”¨æˆ·å¤„ç†æ›´æ˜“äºæµ‹è¯•çš„è¯·æ±‚ã€‚è¿”å›ä¸€ä¸ªPromiseå’Œä¸€ä¸ªæœ‰æ•ˆçš„response</li>
<li>auth â€”â€” authè¡¨æ˜æä¾›å‡­è¯ç”¨äºå®Œæˆhttpçš„èº«ä»½éªŒè¯ã€‚è¿™å°†ä¼šåœ¨headersä¸­è®¾ç½®ä¸€ä¸ªAuthorizationæˆæƒä¿¡æ¯ã€‚è‡ªå®šä¹‰Authorizationæˆæƒè¦è®¾ç½®åœ¨headersä¸­ã€‚</li>
<li>responseType â€”â€” è¡¨ç¤ºæœåŠ¡å™¨å°†è¿”å›å“åº”çš„æ•°æ®ç±»å‹ï¼Œæœ‰arraybufferã€blobã€documentã€jsonã€textã€streamè¿™6ä¸ªç±»å‹ï¼Œé»˜è®¤æ˜¯jsonç±»ä¼¼æ•°æ®ã€‚</li>
<li>xsrfCookieName â€”â€” ç”¨ä½œ xsrf token å€¼çš„ cookie åç§°</li>
<li>xsrfHeaderName â€”â€” å¸¦æœ‰ xsrf token å€¼ http head åç§°</li>
<li>onUploadProgress â€”â€” å…è®¸åœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­çš„åšä¸€äº›æ“ä½œ</li>
<li>onDownloadProgress â€”â€” å…è®¸åœ¨ä¸‹è½½è¿‡ç¨‹ä¸­çš„åšä¸€äº›æ“ä½œ</li>
<li>maxContentLength â€”â€” å®šä¹‰äº†æ¥æ”¶åˆ°çš„responseå“åº”æ•°æ®çš„æœ€å¤§é•¿åº¦ã€‚</li>
<li>validateStatus â€”â€” validateStatuså®šä¹‰äº†æ ¹æ®HTTPå“åº”çŠ¶æ€ç å†³å®šæ˜¯å¦æ¥æ”¶æˆ–æ‹’ç»è·å–åˆ°çš„promiseã€‚å¦‚æœ validateStatus è¿”å› true (æˆ–è®¾ç½®ä¸º null æˆ– undefined ),promiseå°†è¢«æ¥æ”¶;å¦åˆ™,promiseå°†è¢«æ‹’ç»ã€‚</li>
<li>maxRedirects â€”â€” maxRedirectså®šä¹‰äº†åœ¨node.jsä¸­redirectçš„æœ€å¤§å€¼ï¼Œå¦‚æœè®¾ç½®ä¸º0ï¼Œåˆ™æ²¡æœ‰redirectã€‚</li>
<li>httpAgent â€”â€” å®šä¹‰åœ¨ä½¿ç”¨httpè¯·æ±‚æ—¶çš„ä»£ç†</li>
<li>httpsAgent â€”â€” å®šä¹‰åœ¨ä½¿ç”¨httpsè¯·æ±‚æ—¶çš„ä»£ç†</li>
<li>proxy â€”â€” proxyå®šä¹‰ä»£ç†æœåŠ¡å™¨çš„ä¸»æœºåå’Œç«¯å£ï¼Œauth</li>
<li>cancelToken â€”â€” cancelTokenå®šä¹‰ä¸€ä¸ª cancel token ç”¨äºå–æ¶ˆè¯·æ±‚</li>
</ul>
<h1 id="Response-è¿”å›"><a href="#Response-è¿”å›" class="headerlink" title="Response è¿”å›"></a>Response è¿”å›</h1><p>å½“æˆ‘ä»¬ajaxè·å–æ•°æ®æˆåŠŸåä¼šè¿”å›ä¸€ä¸ªresponseå¯¹è±¡ï¼Œå®ƒåŒ…å«äº†ä»¥ä¸‹å†…å®¹<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">&#123;</div><div class="line">  <span class="comment">// æœåŠ¡å™¨è¿”å›çš„æ•°æ®</span></div><div class="line">  data: &#123;&#125;,</div><div class="line">  <span class="comment">// HTTPçŠ¶æ€å—</span></div><div class="line">  status: <span class="number">200</span>,</div><div class="line">  <span class="comment">// æœåŠ¡å™¨è¿”å›çš„æ¶ˆæ¯</span></div><div class="line">  statusText: <span class="string">'OK'</span>,</div><div class="line">  <span class="comment">// è¿”å›å¤´</span></div><div class="line">  headers: &#123;&#125;,</div><div class="line">  <span class="comment">// åœ¨è¿”å›æˆ‘ä»¬çš„é…ç½®</span></div><div class="line">  config: &#123;&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h1 id="ç»Ÿä¸€Configé…ç½®"><a href="#ç»Ÿä¸€Configé…ç½®" class="headerlink" title="ç»Ÿä¸€Configé…ç½®"></a>ç»Ÿä¸€Configé…ç½®</h1><p>åœ¨æ¥å£æµ‹è¯•ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦åˆ‡æ¢çº¿ä¸Šç¯å¢ƒå’Œæµ‹è¯•ç¯å¢ƒï¼Œè¿™é‡Œæˆ‘ä»¬éƒ½å¯ä»¥é€šè¿‡Configæ¥é…ç½®ï¼Œè¿™æ ·æˆ‘ä»¬æ‰€æœ‰çš„å‘èµ·çš„è¯·æ±‚éƒ½æ˜¯é€šè¿‡è¿™ä¸ªåŸºæœ¬çš„URLèµ°äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">axios.defaults.timeout = <span class="number">5000</span>;</div><div class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded;charset=UTF-8'</span>;</div><div class="line">axios.defaults.baseURL = <span class="string">'http://www.xxxx.xxx/api'</span>;</div><div class="line"><span class="comment">// axios.defaults.baseURL = 'http://192.168.1.129:8383';</span></div></pre></td></tr></table></figure>
<h1 id="Interceptors-æ‹¦æˆªå™¨"><a href="#Interceptors-æ‹¦æˆªå™¨" class="headerlink" title="Interceptors æ‹¦æˆªå™¨"></a>Interceptors æ‹¦æˆªå™¨</h1><p>è¿™é‡Œæˆ‘å¿…é¡»é‡ç‚¹ä»‹ç»ï¼Œåœ¨æˆ‘ä»¬å‘èµ·å¤§é‡çš„è¯·æ±‚æ—¶å€™ï¼Œéœ€è¦å¯¹è¯·æ±‚åšç»Ÿä¸€çš„å¤„ç†é‚£å°±ç”¨åˆ°å®ƒäº†ã€‚ç¬”è€…åœ¨ä½¿ç”¨äº†<code>vue-resource</code>å’Œ<code>axios</code>ä¹‹åäº²èº«æ¯”è¾ƒï¼Œ<code>axios</code>çš„é…ç½®æ›´åŠ äººæ€§åŒ–ã€‚<br>å®˜æ–¹çš„APIä¸Šè¿™æ ·ä»‹ç»</p>
<blockquote>
<p>You can intercept requests or responses before they are handled by then or catch.<br>æ‚¨å¯ä»¥æ‹¦æˆªè¯·æ±‚æˆ–å“åº”ä¹‹å‰ï¼Œä»–ä»¬å¤„ç†çš„æ“ä½œæˆ–è€…å¼‚å¸¸</p>
</blockquote>
<h2 id="requestç»Ÿä¸€å¤„ç†æ“ä½œ"><a href="#requestç»Ÿä¸€å¤„ç†æ“ä½œ" class="headerlink" title="requestç»Ÿä¸€å¤„ç†æ“ä½œ"></a>requestç»Ÿä¸€å¤„ç†æ“ä½œ</h2><p>å¦‚æœæ˜¯POSTçš„è¯·æ±‚ï¼Œé…ç½®ä¸­å¯ä¸èƒ½ç”¨<code>params</code>å­—æ®µäº†ï¼Œéœ€è¦ä½¿ç”¨<code>data</code>å­—æ®µã€‚<br>è¿™é‡Œæœ‰ä¸ªå°åœ°æ–¹éœ€è¦æ³¨æ„ï¼ŒPOSTçš„ä¼ å‚éœ€è¦åºåˆ—åŒ–ï¼Œä¸ç„¶æœåŠ¡ç«¯ä¸ä¼šæ­£ç¡®çš„æ¥æ”¶å“¦ï¼Œä¼šæŠ¥é”™ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬è¦å¯¹requestçš„æ•°æ®è¿›è¡Œä¸€æ¬¡åºåˆ—åŒ–ã€‚è¿™é‡Œæˆ‘ç”¨äº†<code>qs</code>,å¤§å®¶éœ€è¦installä¸€ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></div><div class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">'qs'</span></div><div class="line"></div><div class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded;charset=UTF-8'</span>;</div><div class="line"></div><div class="line"><span class="comment">//POSTä¼ å‚åºåˆ—åŒ–</span></div><div class="line">axios.interceptors.request.use(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span>(config.method  === <span class="string">'post'</span>)&#123;</div><div class="line">    config.data = qs.stringify(config.data);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> config;</div><div class="line">&#125;,(error) =&gt;&#123;</div><div class="line">   alert(<span class="string">"é”™è¯¯çš„ä¼ å‚"</span>);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h2 id="responseç»Ÿä¸€å¤„ç†æ“ä½œ"><a href="#responseç»Ÿä¸€å¤„ç†æ“ä½œ" class="headerlink" title="responseç»Ÿä¸€å¤„ç†æ“ä½œ"></a>responseç»Ÿä¸€å¤„ç†æ“ä½œ</h2><p>ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å¯ä»¥ç»Ÿä¸€çš„åœ¨å‘èµ·è¯·æ±‚å‰ï¼Œæˆ–è€…è·å¾—æ•°æ®ï¼Œå¯¹å…¶è¿›è¡Œç»Ÿä¸€çš„æ“ä½œã€‚è¿™ç‚¹éå¸¸çš„é«˜æ•ˆï¼Œåœ¨ç¬”è€…çš„é¡¹ç›®ä¸­ï¼Œæ¥å£ä¼šè¿”å›ä¸€ä¸ªcode,å°±å’Œå¾®ä¿¡APIä¸€æ ·ï¼Œcodeä¸º200ä»£è¡¨è¿”å›è¯·æ±‚æ•°æ®æ­£ç¡®ä¸ºå…¶å®ƒæ—¶å°±è‡ªåŠ¨è·³å‡ºå¼¹çª—æ‰“å°æ¶ˆæ¯å³å¯ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//codeçŠ¶æ€ç 200åˆ¤æ–­</span></div><div class="line">axios.interceptors.response.use(<span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</div><div class="line">  <span class="keyword">if</span>(res.data.code != <span class="string">'200'</span>)&#123;</div><div class="line">    alert(res.data.msg);</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(res);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;, (error) =&gt; &#123;</div><div class="line">  alert(<span class="string">"ç½‘ç»œå¼‚å¸¸"</span>);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>å¦‚æœå‘ç”Ÿè¿™äº›é”™è¯¯äº†æˆ‘è¦ç»“æŸå½“å‰çš„Promiseæ‰€ä»¥è¿”å›ä¸€ä¸ª<code>Promise.reject(res)</code>ï¼Œåœæ­¢Promiseé˜Ÿåˆ—ä¸‹é¢çš„æ“ä½œ,å¦‚æœæœ‰å¯¹äºPromiseä¸ç†Ÿæ‚‰çš„ç«¥é‹è¯·è‡ªè¡Œæœç´¢<code>Promise</code>(è¿™é‡Œè¿˜é‡åˆ°äº†ä¸€ä¸ªå°å‘æœ€åä¼šä»‹ç»)</p>
<h1 id="æˆ‘çš„é…ç½®"><a href="#æˆ‘çš„é…ç½®" class="headerlink" title="æˆ‘çš„é…ç½®"></a>æˆ‘çš„é…ç½®</h1><p>å¥½äº†ä»‹ç»äº†è¿™ä¹ˆå¤šä»‹ç»ä¸‹æˆ‘çš„axiosé…ç½®çš„æ–‡ä»¶è®¾ç½®å§,è¿™ä¸ªæ–‡ä»¶åæ˜¯<code>config/http.js</code><br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'axios'</span></div><div class="line"><span class="keyword">import</span> qs <span class="keyword">from</span> <span class="string">'qs'</span></div><div class="line"><span class="keyword">import</span> * <span class="keyword">as</span> _ <span class="keyword">from</span> <span class="string">'./whole'</span></div><div class="line"></div><div class="line">axios.defaults.timeout = <span class="number">5000</span>;</div><div class="line">axios.defaults.headers.post[<span class="string">'Content-Type'</span>] = <span class="string">'application/x-www-form-urlencoded;charset=UTF-8'</span>;</div><div class="line">axios.defaults.baseURL = <span class="string">'http://www.guinaben.com:8070'</span>;</div><div class="line"><span class="comment">// axios.defaults.baseURL = 'http://192.168.1.129:8383';</span></div><div class="line"></div><div class="line"><span class="comment">//POSTä¼ å‚åºåˆ—åŒ–</span></div><div class="line">axios.interceptors.request.use(<span class="function">(<span class="params">config</span>) =&gt;</span> &#123;</div><div class="line">  <span class="keyword">if</span>(config.method  === <span class="string">'post'</span>)&#123;</div><div class="line">    config.data = qs.stringify(config.data);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> config;</div><div class="line">&#125;,(error) =&gt;&#123;</div><div class="line">   _.toast(<span class="string">"é”™è¯¯çš„ä¼ å‚"</span>);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="comment">//codeçŠ¶æ€ç 200åˆ¤æ–­</span></div><div class="line">axios.interceptors.response.use(<span class="function">(<span class="params">res</span>) =&gt;</span>&#123;</div><div class="line">  <span class="keyword">if</span>(res.data.code != <span class="string">'200'</span>)&#123;</div><div class="line">    _.toast(res.data.msg);</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(res);</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> res;</div><div class="line">&#125;, (error) =&gt; &#123;</div><div class="line">  _.toast(<span class="string">"ç½‘ç»œå¼‚å¸¸"</span>);</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error);</div><div class="line">&#125;);</div><div class="line"></div><div class="line"><span class="keyword">export</span> <span class="keyword">default</span> axios;</div></pre></td></tr></table></figure></p>
<p>å‘èµ·çš„è¯·æ±‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">'config/http'</span></div><div class="line"></div><div class="line">axios(&#123;</div><div class="line">  <span class="attr">method</span>:<span class="string">'get'</span>,</div><div class="line">  <span class="attr">url</span>: <span class="string">'xxxx/xxxxx'</span>,</div><div class="line">  <span class="attr">params</span>: &#123;</div><div class="line">    <span class="string">"textbook_id"</span>:id,</div><div class="line">    <span class="string">"token"</span>:token</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</div><div class="line">  resolve(response);</div><div class="line">&#125;)</div><div class="line"></div><div class="line"></div><div class="line">axios(&#123;</div><div class="line">  <span class="attr">method</span>:<span class="string">'post'</span>,</div><div class="line">  <span class="attr">url</span>: <span class="string">'teacher/pwd/resetByMobile'</span>,</div><div class="line">  <span class="attr">data</span>: &#123;</div><div class="line">   <span class="string">"textbook_id"</span>:id,</div><div class="line">    <span class="string">"token"</span>:token</div><div class="line">  &#125;</div><div class="line">&#125;)</div><div class="line">.then(<span class="function">(<span class="params">response</span>) =&gt;</span> &#123;</div><div class="line">    resolve(response);</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h1 id="ä¸€å®šè¦çœ‹"><a href="#ä¸€å®šè¦çœ‹" class="headerlink" title="ä¸€å®šè¦çœ‹"></a>ä¸€å®šè¦çœ‹</h1><p>å› ä¸ºè¿™é‡Œæˆ‘ä½¿ç”¨çš„<code>Promise</code>,æ‰€ä»¥åœ¨å®‰å“4.4.3ä¸€ä¸‹çš„æ‰‹æœºè¿˜æ˜¯ä¸æ”¯æŒPromiseçš„ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ã€‚éœ€è¦å¼•å…¥<code>npm install babel-polyfill</code>å’Œ<code>npm install babel-runtime</code>ï¼Œåœ¨å…¥å£æ–‡ä»¶ä¸ŠåŠ ä¸Šå³å¯ã€‚<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> <span class="string">'babel-polyfill'</span></div></pre></td></tr></table></figure></p>
<h1 id="æœ€å"><a href="#æœ€å" class="headerlink" title="æœ€å"></a>æœ€å</h1><p>ä¸‹ä¸€ç¯‡å°†å¸¦æ¥Vuex2å’Œaxiosçš„é…åˆï¼Œå¸Œæœ›æ­¤ç¯‡èƒ½å¸¦ç»™å¤§å®¶å¸®åŠ©ã€‚</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[å¼€åšç¬¬ä¸€ç¯‡çºªå¿µ]]></title>
      <url>http://ygxdxx.coding.me/2017/01/28/hello/</url>
      <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>ä»Šå¤©é¸¡å¹´çš„ç¬¬ä¸€å¤©ï¼Œè¯´äº†å¥½ä¹…æƒ³æ­å»ºè‡ªå·±çš„åšå®¢è®°å½•å¼€å‘çš„æ—¥å¸¸ï¼Œç»“æœä¸€æ‹–å†æ‹–Orzï¼ˆæ‹–å»¶ç—‡ä¼¤ä¸èµ·ï¼‰ã€‚ä»Šå¤©èŠ±äº†ä¸€ä¸‹åˆç»ˆäºæ­å»ºå®Œæˆã€‚</p>
<h2 id="ä½¿ç”¨æŠ€æœ¯"><a href="#ä½¿ç”¨æŠ€æœ¯" class="headerlink" title="ä½¿ç”¨æŠ€æœ¯"></a>ä½¿ç”¨æŠ€æœ¯</h2><p>1.Hexo<br>å‰ç«¯å»ºç«™ç¥å™¨ï¼Œè¿™é‡Œä¸å¤šè¯´äº†ã€‚<a href="https://hexo.io/zh-cn/docs/themes.html" target="_blank" rel="external">Hexoæ–‡æ¡£</a></p>
<p>2.ä¸»é¢˜<br>å½“æ—¶åœ¨å‘ç°è¿™ä¸ªä¸»é¢˜çš„æ—¶å€™æ˜¯æ¯”è¾ƒæƒŠè‰³çš„ï¼Œä¸ªäººæ¯”è¾ƒå–œæ¬¢è°·æ­Œçš„è¿™ç§é£æ ¼ï¼Œä½œè€…æ˜¯ä½å›½äººã€‚å¾ˆæ„Ÿè°¢æ— ç§çš„ä»˜å‡º<br><a href="https://material.viosey.com/" target="_blank" rel="external">Material Theme</a></p>
<p>3.Coding Pages<br>æœ¬æ¥æ‰“ç®—ä½¿ç”¨Github Pagesï¼Œæœ‰æ—¶å€™å¢™çš„å‰å®³ã€‚ä½¿ç”¨<a href="https://coding.net/help/doc/pages/index.html" target="_blank" rel="external">Coding Pages</a>åšä¸ºæ‰¿è½½ç½‘ç«™ã€‚<br>ä¸»è¦ä½¿ç”¨ã€Œç”¨æˆ· Pagesã€ç±»å‹ï¼Œåœ¨ä¸ªäººé¡¹ç›®é‡Œæ–°å»ºä¸€ä¸ªåä¸º {user_name}.coding.me çš„é¡¹ç›®ï¼Œç„¶åå°†Hexoä¸­ç”Ÿæˆçš„Publicæ–‡ä»¶å¤¹ä½œä¸ºGitçš„ä¸»ç›®å½•å³å¯ã€‚</p>
<h2 id="è¸©å‘"><a href="#è¸©å‘" class="headerlink" title="è¸©å‘"></a>è¸©å‘</h2><p>1._config.yml æ˜¯å…¨ç«™çš„æ§åˆ¶æ–‡ä»¶ï¼Œåœ¨é…ç½®çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™ç¨ä¸æ³¨æ„å°†ä¸‹é¢ä»£ç å‰çš„ç©ºæ ¼åˆ æ‰äº†è¿è¡Œå°±ä¼šæŠ¥é”™ã€‚<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//sourceå‰é¢æœ‰ä¸€ä¸ªç©ºæ ¼</span></div><div class="line">source_dir: source</div></pre></td></tr></table></figure></p>
<p>2.å¦‚æœå®‰è£…äº†æ–°çš„ä¸»é¢˜ï¼Œå°±éœ€è¦åˆ°è¯¥ä¸»é¢˜ä¸‹çš„_config.ymlå»é…ç½®ã€‚</p>
<h2 id="ç»“å°¾"><a href="#ç»“å°¾" class="headerlink" title="ç»“å°¾"></a>ç»“å°¾</h2><p>æ–°çš„ä¸€å¹´ï¼Œä»¥æ­¤ç¯‡å¼€å§‹ã€‚Fighting~</p>
]]></content>
    </entry>
    
  
  
</search>
